<html>
<head>
<meta charset="utf-8">
</head>
<body>

<div id="Posts">
            
            
            
            
            
                        
            <!--link-->
            <div class="LinkPost">
                <a href="http://chenmingang.diandian.com/post/2014-08-12/40062475818"><div class="LinkIcon"></div></a>
                <div class="PostTitle rich-content"><a href="http://chenmingang.github.io/">博客迁移至</a></div>
            
                
            </div><!-- End Link Post -->
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-08-12/40062475818">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            12 Aug 2014
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-08-12/40062475818#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2014-07-18/40062249442"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2014-07-18/40062249442">hadoop试安装配置</a></div>
                
                <div class="TextPostBody rich-content"><p>我先是在win7上建了三个ubuntu12.04 32bit的虚拟机</p>
<p>然后就按照<a href="http://www.linuxidc.com/Linux/2013-11/93077.htm" title="http://www.linuxidc.com/Linux/2013-11/93077.htm">http://www.linuxidc.com/Linux/2013-11/93077.htm</a>开始搭建环境,最后所有的namenode和datanode都正常的启动了,但是无法运行例子,--- 注意到了有个warning一直跟着</p>
<p>WARNutil.NativeCodeLoader: Unable to load native-hadoop library for yourplatform... using builtin-java classes where applicable</p>
<p>据网上搜的结果是hadoop只提供了32位的本地库文件所以不能在64位机器上运行,但我的虚拟机全是32位的啊...不明白了,反正是库文件不合适</p>
<p>然后暂时放弃了在虚拟机中搭集群转而去在我的ubuntu12.04 64bit机器上先搭伪分布式 但考虑到还是会有库文件不兼容的问题,所以先去解决这个事情 <a href="http://blog.changecong.com/2013/10/ubuntu-%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85-hadoop-2-2-0/" title="http://blog.changecong.com/2013/10/ubuntu-%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85-hadoop-2-2-0/">http://blog.changecong.com/2013/10/ubuntu%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85-hadoop-2-2-0/</a></p>
<p>我用的是hadoop2.4.0 编译源码是各相当费时的事情...</p>
<p>最后源码编译成功按照<a href="http://www.linuxidc.com/Linux/2013-01/77681p5.htm" title="http://www.linuxidc.com/Linux/2013-01/77681p5.htm">http://www.linuxidc.com/Linux/2013-01/77681p5.htm</a> 搭好了伪分布式,这次一切正常.</p>
<p>./hadoop jar /home/hadoop/hadoop-2.4.0/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.4.0.jar wordcount /input output</p>
<p>至于集群环境...还是考虑在真机上试试吧</p></div>           
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-07-18/40062249442">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            18th Jul 2014
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-07-18/40062249442#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                    <!--[if IE 7]><li><![endif]-->
                    <div class="Tags">
                        <img src="http://x.srcdd.com/farm1/c8b5b1/b9008db1/D3517.png">
                        <a href="/?tag=hadoop" title="hadoop">#hadoop</a>
                    </div><!-- End Post Tags -->
                    <!--[if IE 7]></li><![endif]-->
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2014-07-07/40062178735"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2014-07-07/40062178735">java字符串归纳</a></div>
                
                <div class="TextPostBody rich-content"><div><div id="highlighter_516837" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">class</code> <code class="java plain">StringDemo{</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">static</code> <code class="java keyword">void</code> <code class="java plain">main(String[] args) {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String s1=</code><code class="java string">"abc"</code><code class="java plain">;</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String s2=</code><code class="java string">"abc"</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String s3=</code><code class="java keyword">new</code> <code class="java plain">String(</code><code class="java string">"abc"</code><code class="java plain">);</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String s4=</code><code class="java keyword">new</code> <code class="java plain">String(</code><code class="java string">"abc"</code><code class="java plain">);</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.println(</code><code class="java string">"s1==s2:"</code><code class="java plain">+(s1==s2));&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.println(</code><code class="java string">"s1==s3:"</code><code class="java plain">+(s1==s3));&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.println(</code><code class="java string">"s3==s4:"</code><code class="java plain">+(s3==s4)); </code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">s2=</code><code class="java string">"abcd"</code><code class="java plain">;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.println(</code><code class="java string">"s1==s2:"</code><code class="java plain">+(s1==s2));</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.println(</code><code class="java string">"s1="</code><code class="java plain">+s1);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.println(</code><code class="java string">"s2="</code><code class="java plain">+s2);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number17 index16 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>结果:</p>
<div><div id="highlighter_183749" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">s1==s2:true</code></div><div class="line number2 index1 alt1"><code class="html plain">s1==s3:false</code></div><div class="line number3 index2 alt2"><code class="html plain">s3==s4:false</code></div><div class="line number4 index3 alt1"><code class="html plain">s1==s2:false</code></div><div class="line number5 index4 alt2"><code class="html plain">s1=abc</code></div><div class="line number6 index5 alt1"><code class="html plain">s2=abcd</code></div></div></td></tr></tbody></table></div></div></div>         
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-07-07/40062178735">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            7th Jul 2014
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-07-07/40062178735#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2014-07-07/40062142086"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2014-07-07/40062142086">访问谷歌方法</a></div>
                
                <div class="TextPostBody rich-content"><p>对捣鼓电脑的我们来说访问不了谷歌就跟娶不上媳妇一样揪心!!万恶的长城牌防火墙!</p>
<p><a href="http://shentar.me/%E4%BD%BF%E7%94%A8openerdns%E8%A7%A3%E5%86%B3%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AEgoogle%E7%9A%84%E9%97%AE%E9%A2%98/" title="使用OpenerDNS解决无法访问Google的问题">使用OpenerDNS解决无法访问Google的问题</a></p></div>          
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-07-07/40062142086">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            7th Jul 2014
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-07-07/40062142086#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2014-04-17/40061542788"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2014-04-17/40061542788">maven部署项目到tomcat7遇到的问题</a></div>
                
                <div class="TextPostBody rich-content"><p>一: 401问题 403错误 http://hi.baidu.com/ae6623/item/809c7cfb3f9eae4d922af272</p>
<p>二:postgreSQL驱动找不到 1.在pom里添加依赖</p>
<div><div id="highlighter_740936" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">dependency</code><code class="html plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">groupId</code><code class="html plain">&gt;postgresql&lt;/</code><code class="html keyword">groupId</code><code class="html plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">artifactId</code><code class="html plain">&gt;postgresql&lt;/</code><code class="html keyword">artifactId</code><code class="html plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">version</code><code class="html plain">&gt;9.1-901.jdbc4&lt;/</code><code class="html keyword">version</code><code class="html plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="html plain">&lt;/</code><code class="html keyword">dependency</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>2.persistent.xml</p>
<div><div id="highlighter_179864" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;?</code><code class="html keyword">xml</code> <code class="html color1">version</code><code class="html plain">=</code><code class="html string">"1.0"</code> <code class="html color1">encoding</code><code class="html plain">=</code><code class="html string">"utf-8"</code><code class="html plain">?&gt;</code></div><div class="line number2 index1 alt1"><code class="html plain">&lt;</code><code class="html keyword">persistence</code> <code class="html color1">version</code><code class="html plain">=</code><code class="html string">"2.0"</code> <code class="html color1">xmlns</code><code class="html plain">=</code><code class="html string">"<a href="http://java.sun.com/xml/ns/persistence">http://java.sun.com/xml/ns/persistence</a>"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="html color1">xmlns:xsi</code><code class="html plain">=</code><code class="html string">"<a href="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</a>"</code></div><div class="line number3 index2 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color1">xsi:schemaLocation</code><code class="html plain">=</code><code class="html string">"<a href="http://java.sun.com/xml/ns/persistence">http://java.sun.com/xml/ns/persistence</a> <a href="http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd">http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd</a>"</code><code class="html plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">persistence-unit</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"users"</code><code class="html plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">provider</code><code class="html plain">&gt;org.hibernate.ejb.HibernatePersistence&lt;/</code><code class="html keyword">provider</code><code class="html plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">class</code><code class="html plain">&gt;cn.jhc.bean.Employee&lt;/</code><code class="html keyword">class</code><code class="html plain">&gt;</code></div><div class="line number7 index6 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">properties</code><code class="html plain">&gt;</code></div><div class="line number8 index7 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">property</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"hibernate.dialect"</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"org.hibernate.dialect.PostgreSQLDialect"</code> <code class="html plain">/&gt;</code></div><div class="line number9 index8 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">property</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"hibernate.connection.driver_class"</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"org.postgresql.Driver"</code> <code class="html plain">/&gt;</code></div><div class="line number10 index9 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">property</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"hibernate.connection.url"</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"jdbc:<a href="postgresql://localhost:5432/blog">postgresql://localhost:5432/blog</a>"</code> <code class="html plain">/&gt;</code></div><div class="line number11 index10 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">property</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"hibernate.connection.password"</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"111111"</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">property</code><code class="html plain">&gt;</code></div><div class="line number12 index11 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">property</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"hibernate.connection.username"</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"postgres"</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">property</code><code class="html plain">&gt;</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">property</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"hibernate.hbm2ddl.auto"</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"create"</code> <code class="html plain">/&gt;</code></div><div class="line number15 index14 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">property</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"hibernate.show_sql"</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"true"</code> <code class="html plain">/&gt;</code></div><div class="line number16 index15 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">property</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"hibernate.format_sql"</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"true"</code><code class="html plain">/&gt;</code></div><div class="line number17 index16 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html comments">&lt;!--&nbsp;&nbsp; </code></div><div class="line number18 index17 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html comments">&lt;property name="hibernate.default_schema" value="member"&gt;&lt;/property&gt;</code></div><div class="line number19 index18 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html comments">&lt;property name="hibernate.hbm2ddl.import_files" value="/sql/populate.sql"/&gt;--&gt;</code></div><div class="line number20 index19 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">properties</code><code class="html plain">&gt;</code></div><div class="line number21 index20 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">persistence-unit</code><code class="html plain">&gt;</code></div><div class="line number22 index21 alt1"><code class="html plain">&lt;/</code><code class="html keyword">persistence</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>驱动找不到 https://www.openshift.com/blogs/jndi-tomcat-configuration-howto</p></div>          
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-04-17/40061542788">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            17th Apr 2014
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-04-17/40061542788#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2014-03-16/40061254489"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2014-03-16/40061254489">seam中设置自动登陆(读取cookie)</a></div>
                
                <div class="TextPostBody rich-content"><p>在网上经常看见有能自动登陆账号的网站比如百度,163 先尝试自动登陆然后解决跨站登陆的问题</p>
<p>1.保存cookie的方法</p>
<div><div id="highlighter_703345" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java comments">//当然要先在客户端写入cookie才可以进行下一步动作</code></div><div class="line number2 index1 alt1"><code class="java plain">saveCookie(</code><code class="java string">"username:"</code><code class="java plain">+member.getUsername()+</code><code class="java string">"#"</code><code class="java plain">+Util.MD5(</code><code class="java string">"password:"</code><code class="java plain">+Util.MD5(identity.getCredentials().getPassword())));</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="java comments">/*</code></div><div class="line number7 index6 alt2"><code class="java comments">*保存cookie</code></div><div class="line number8 index7 alt1"><code class="java comments">*/</code></div><div class="line number9 index8 alt2"><code class="java keyword">private</code> <code class="java keyword">void</code> <code class="java plain">saveCookie(String cookieMd5){</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Cookie cookie = </code><code class="java keyword">new</code> <code class="java plain">Cookie(</code><code class="java string">"rsm"</code><code class="java plain">, cookieMd5);</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cookie.setPath(</code><code class="java string">"/"</code><code class="java plain">);</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//设置过期时间</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cookie.setMaxAge(</code><code class="java value">60</code><code class="java plain">*</code><code class="java value">60</code><code class="java plain">*</code><code class="java value">24</code><code class="java plain">*</code><code class="java value">14</code><code class="java plain">);</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//向客户端写入</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">((HttpServletResponse) facesContext.getExternalContext().getResponse()).addCookie(cookie);</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>2.自动登陆</p>
<div><div id="highlighter_156805" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">public</code> <code class="java keyword">boolean</code> <code class="java plain">authenticate() {</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//自动登陆</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code><code class="java plain">(autoLogin()){</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="java comments">/*</code></div><div class="line number9 index8 alt2"><code class="java comments">*自动登陆方法</code></div><div class="line number10 index9 alt1"><code class="java comments">*/</code></div><div class="line number11 index10 alt2"><code class="java keyword">private</code> <code class="java keyword">boolean</code> <code class="java plain">autoLogin(){</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String cookiestr=</code><code class="java string">""</code><code class="java plain">;</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//读取cookie</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Cookie[] cookie=((HttpServletRequest) facesContext.getExternalContext().getRequest()).getCookies();</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">for</code><code class="java plain">(</code><code class="java keyword">int</code> <code class="java plain">i=</code><code class="java value">0</code><code class="java plain">;i&lt;cookie.length;i++){</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code><code class="java plain">(cookie[i].getName().equalsIgnoreCase(</code><code class="java string">"rsm"</code><code class="java plain">))</code><code class="java comments">//cookie的名字为rsm</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cookiestr=cookie[i].getValue();</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//分割cookie字符串</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String[] str=cookiestr.split(</code><code class="java string">"#"</code><code class="java plain">);</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code><code class="java plain">(str.length!=</code><code class="java value">2</code><code class="java plain">) </code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code><code class="java plain">(str[</code><code class="java value">0</code><code class="java plain">].split(</code><code class="java string">":"</code><code class="java plain">).length!=</code><code class="java value">2</code><code class="java plain">) </code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">member=(Member) entityManager</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.createQuery(STUEXIST)</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.setParameter(</code><code class="java string">"name"</code><code class="java plain">,str[</code><code class="java value">0</code><code class="java plain">].split(</code><code class="java string">":"</code><code class="java plain">)[</code><code class="java value">1</code><code class="java plain">])</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.getResultList()</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">.get(</code><code class="java value">0</code><code class="java plain">);</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;</code><code class="java keyword">if</code><code class="java plain">(Util.MD5(</code><code class="java string">"password:"</code><code class="java plain">+Util.MD5(member.getPassword())+</code><code class="java string">""</code><code class="java plain">).equalsIgnoreCase(str[</code><code class="java value">1</code><code class="java plain">])){</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number33 index32 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>3.一个空页面的page.xml</p>
<div><div id="highlighter_390025" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">action</code> <code class="html color1">execute</code><code class="html plain">=</code><code class="html string">"#{identity.login}"</code><code class="html plain">/&gt;</code></div><div class="line number2 index1 alt1"><code class="html plain">&lt;</code><code class="html keyword">navigation</code> <code class="html color1">from-action</code><code class="html plain">=</code><code class="html string">"#{identity.login}"</code><code class="html plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">rule</code> <code class="html color1">if</code><code class="html plain">=</code><code class="html string">"#{identity.loggedIn}"</code><code class="html plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">redirect</code> <code class="html color1">view-id</code><code class="html plain">=</code><code class="html string">"/control/index.seam"</code><code class="html plain">/&gt;</code></div><div class="line number5 index4 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">rule</code><code class="html plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="html spaces">&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">navigation</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div></div>         
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-03-16/40061254489">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            16th Mar 2014
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-03-16/40061254489#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            
                        
            <!--link-->
            <div class="LinkPost">
                <a href="http://chenmingang.diandian.com/post/2014-03-14/40061231353"><div class="LinkIcon"></div></a>
                <div class="PostTitle rich-content"><a href="http://www.importnew.com/9994.html">Java线程与多线程教程 - ImportNew</a></div>
            
                
            </div><!-- End Link Post -->
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-03-14/40061231353">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            14th Mar 2014
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-03-14/40061231353#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2014-03-08/40061192770"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2014-03-08/40061192770">android cocos2d-x 环境搭建</a></div>
                
                <div class="TextPostBody rich-content"><p>系统ubuntu12.04<br></p>
<p>下载配件</p>
<p> NDK &nbsp;<a href="https://developer.android.com/tools/sdk/ndk/index.html"></a><a href="https://developer.android.com/tools/sdk/ndk/index.html">https://developer.android.com/tools/sdk/ndk/index.html</a></p>
<p><a href="https://developer.android.com/tools/sdk/ndk/index.html"></a> ADT <a href="http://developer.android.com/sdk/index.html"></a><a href="http://developer.android.com/sdk/index.html">http://developer.android.com/sdk/index.html</a></p>
<p><a href="http://developer.android.com/sdk/index.html"></a>cocos2d-x <a href="http://cocos2d.cocoachina.com/download"></a><a href="http://cocos2d.cocoachina.com/download"></a><a href="http://cocos2d.cocoachina.com/download">http://cocos2d.cocoachina.com/download</a> </p>
<p> &nbsp;下面介绍 如何创建并运行一个基本的cocos2d项目</p>
<p>1.首先把各压缩包解压开随便找个目录放下</p>
<p> 2.设置环境变量<br></p>
<p>export NDK_ROOT=/home/momo/java/android/android-ndk-r8e</p>
<p>export SDK_ROOT=/home/momo/java/android/adt-bundle-linux-x86-20130717/sdk</p>
<p>export COCOS2DX_ROOT=/home/momo/java/android/cocos2d-x-2.1.4/cocos2d-x-2.1.4</p>
<p> &nbsp;&nbsp;&nbsp;SDK在下载的adt目录下带着</p>
<p>3.创建项目</p>
<p>进入cocos2d-x-2.1.4/cocos2d-x-2.1.4目录下</p>
<p><span>设置变量 &nbsp;(因为这里读取的SDK环境变量和系统环境变量名称不一致,你还可以在第二步的里面添加</span></p>
<p><span><span>export ANDROID_SDK_ROOT=/home/momo/java/android/adt-bundle-linux-x86-20130717/sdk</span>)</span></p>
<p><span>或者修改<span>create-android-project.sh</span>文件中的ANDROID_SDK_ROOT_LOCAL路径</span></p>
<p><span>ANDROID_SDK_ROOT_LOCAL="/home/momo/java/android/adt-bundle-linux-x86-20130717/sdk"</span></p>
<p><span></span></p>
<p>执行./create-android-project.sh</p>
<p>输入package path ,target id ,及project name后就会在cocos2d-x-2.1.4/cocos2d-x-2.1.4/目录下生成一个新的项目</p>
<p>4.导入eclipse</p>
<p> &nbsp;&nbsp;打开adt里面的eclipse</p>
<p> &nbsp;&nbsp;执行file/import &nbsp;导入项目</p>
<p>&nbsp;</p>
<p> &nbsp;这时eclipse会有错误,原因是不知为什么生成项目的时候没有把项目依赖包导入</p>
<p>解决办法:把cocos2d-x-2.1.4/cocos2d-x-2.1.4/cocos2dx/platform/android/java/src下的org包拷入到项目下的proj.android/src/目录合并就可以了</p>
<p>还有一个问题是c++的源文件(Classes文件夹下)并不在eclipse中显示,解决办法就是拷进去!</p>
<p>把Classes拷入proj.android/jni/下,并修改该目录下的Android.mk中的cpp文件路径</p>
<p>LOCAL_SRC_FILES := hellocpp/main.cpp \</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Classes/AppDelegate.cpp \</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Classes/HelloWorldScene.cpp &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>LOCAL_C_INCLUDES := $(LOCAL_PATH)/Classes &nbsp;&nbsp;</p>
<p>5.完事 在终端进入proj.android文件夹运行./build_native.sh 然后在eclipse中run As就行了</p></div>          
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-03-08/40061192770">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            8th Mar 2014
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-03-08/40061192770#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            3&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                    <!--[if IE 7]><li><![endif]-->
                    <div class="Tags">
                        <img src="http://x.srcdd.com/farm1/c8b5b1/b9008db1/D3517.png">
                        <a href="/?tag=cocos2d" title="cocos2d">#cocos2d</a><a href="/?tag=android" title="android">#android</a><a href="/?tag=ubuntu" title="ubuntu">#ubuntu</a>
                    </div><!-- End Post Tags -->
                    <!--[if IE 7]></li><![endif]-->
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2014-03-02/40061131463"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2014-03-02/40061131463">identifier 'authenticator' resolved to null  in seam2.3</a></div>
                
                <div class="TextPostBody rich-content"><p>在把seam-gen2.3生成的项目由ant目录改成maven目录的时候遇到了一个奇怪的问题</p>
<p>javax.el.PropertyNotFoundException: Target Unreachable, identifier 'authenticator' resolved to null<br></p>
<p><span>15:24:28,438 WARN &nbsp;[org.jboss.seam.security.jaas.SeamLoginModule] (http--0.0.0.0-9090-2) Error invoking login method: javax.el.PropertyNotFoundException: Target Unreachable, identifier 'authenticator' resolved to null</span></p>
<p>at org.jboss.el.parser.AstValue.getTarget(AstValue.java:38) [jboss-el-1.0_02.CR6.jar:1.0_02.CR6]</p>
<p>at org.jboss.el.parser.AstValue.invoke(AstValue.java:95) [jboss-el-1.0_02.CR6.jar:1.0_02.CR6]</p>
<p>at org.jboss.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:276) [jboss-el-1.0_02.CR6.jar:1.0_02.CR6]</p>
<p>at org.jboss.seam.core.Expressions$2.invoke(Expressions.java:222) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.jboss.seam.security.jaas.SeamLoginModule.login(SeamLoginModule.java:109) [jboss-seam.jar:2.3.1.Final]</p>
<p>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.6.0_38-ea]</p>
<p>at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [rt.jar:1.6.0_38-ea]</p>
<p>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [rt.jar:1.6.0_38-ea]</p>
<p>at java.lang.reflect.Method.invoke(Method.java:597) [rt.jar:1.6.0_38-ea]</p>
<p>at javax.security.auth.login.LoginContext.invoke(LoginContext.java:769) [rt.jar:1.6.0_38-ea]</p>
<p>at javax.security.auth.login.LoginContext.access$000(LoginContext.java:186) [rt.jar:1.6.0_38-ea]</p>
<p>at javax.security.auth.login.LoginContext$5.run(LoginContext.java:706) [rt.jar:1.6.0_38-ea]</p>
<p>at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.6.0_38-ea]</p>
<p>at javax.security.auth.login.LoginContext.invokeCreatorPriv(LoginContext.java:703) [rt.jar:1.6.0_38-ea]</p>
<p>at javax.security.auth.login.LoginContext.login(LoginContext.java:575) [rt.jar:1.6.0_38-ea]</p>
<p>at org.jboss.seam.security.Identity.authenticate(Identity.java:344) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.jboss.seam.security.Identity.authenticate(Identity.java:332) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.jboss.seam.security.Identity.login(Identity.java:259) [jboss-seam.jar:2.3.1.Final]</p>
<p>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.6.0_38-ea]</p>
<p>at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [rt.jar:1.6.0_38-ea]</p>
<p>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [rt.jar:1.6.0_38-ea]</p>
<p>at java.lang.reflect.Method.invoke(Method.java:597) [rt.jar:1.6.0_38-ea]</p>
<p>at org.jboss.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:335) [jboss-el-1.0_02.CR6.jar:1.0_02.CR6]</p>
<p>at org.jboss.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:348) [jboss-el-1.0_02.CR6.jar:1.0_02.CR6]</p>
<p>at org.jboss.el.parser.AstPropertySuffix.invoke(AstPropertySuffix.java:58) [jboss-el-1.0_02.CR6.jar:1.0_02.CR6]</p>
<p>at org.jboss.el.parser.AstValue.invoke(AstValue.java:96) [jboss-el-1.0_02.CR6.jar:1.0_02.CR6]</p>
<p>at org.jboss.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:276) [jboss-el-1.0_02.CR6.jar:1.0_02.CR6]</p>
<p>at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105) [jsf-impl-2.1.7-jbossorg-2.jar:]</p>
<p>at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88) [jboss-jsf-api_2.1_spec-2.0.1.Final.jar:2.0.1.Final]</p>
<p>at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102) [jsf-impl-2.1.7-jbossorg-2.jar:]</p>
<p>at javax.faces.component.UICommand.broadcast(UICommand.java:315) [jboss-jsf-api_2.1_spec-2.0.1.Final.jar:2.0.1.Final]</p>
<p>at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794) [jboss-jsf-api_2.1_spec-2.0.1.Final.jar:2.0.1.Final]</p>
<p>at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259) [jboss-jsf-api_2.1_spec-2.0.1.Final.jar:2.0.1.Final]</p>
<p>at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81) [jsf-impl-2.1.7-jbossorg-2.jar:]</p>
<p>at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101) [jsf-impl-2.1.7-jbossorg-2.jar:]</p>
<p>at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118) [jsf-impl-2.1.7-jbossorg-2.jar:]</p>
<p>at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593) [jboss-jsf-api_2.1_spec-2.0.1.Final.jar:2.0.1.Final]</p>
<p>at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]</p>
<p>at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]</p>
<p>at org.jboss.seam.servlet.SeamFilter$FilterChainImpl.doFilter(SeamFilter.java:83) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.jboss.seam.web.LoggingFilter.doFilter(LoggingFilter.java:60) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.jboss.seam.servlet.SeamFilter$FilterChainImpl.doFilter(SeamFilter.java:69) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.jboss.seam.web.IdentityFilter.doFilter(IdentityFilter.java:40) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.jboss.seam.servlet.SeamFilter$FilterChainImpl.doFilter(SeamFilter.java:69) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.jboss.seam.web.MultipartFilter.doFilter(MultipartFilter.java:90) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.jboss.seam.servlet.SeamFilter$FilterChainImpl.doFilter(SeamFilter.java:69) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.jboss.seam.web.ExceptionFilter.doFilter(ExceptionFilter.java:64) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.jboss.seam.servlet.SeamFilter$FilterChainImpl.doFilter(SeamFilter.java:69) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.jboss.seam.web.RedirectFilter.doFilter(RedirectFilter.java:45) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.jboss.seam.servlet.SeamFilter$FilterChainImpl.doFilter(SeamFilter.java:69) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.jboss.seam.servlet.SeamFilter.doFilter(SeamFilter.java:158) [jboss-seam.jar:2.3.1.Final]</p>
<p>at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280) [jbossweb-7.0.13.Final.jar:]</p>
<p>at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]</p>
<p>at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.13.Final.jar:]</p>
<p>at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.13.Final.jar:]</p>
<p>at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:397) [jbossweb-7.0.13.Final.jar:]</p>
<p>at org.jboss.as.jpa.interceptor.WebNonTxEmCloserValve.invoke(WebNonTxEmCloserValve.java:50) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]</p>
<p>at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]</p>
<p>at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.13.Final.jar:]</p>
<p>at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.13.Final.jar:]</p>
<p>at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.13.Final.jar:]</p>
<p>at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.13.Final.jar:]</p>
<p>at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [jbossweb-7.0.13.Final.jar:]</p>
<p>at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671) [jbossweb-7.0.13.Final.jar:]</p>
<p>at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930) [jbossweb-7.0.13.Final.jar:]</p>
<p>at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_38-ea]</p>
<p>&nbsp;</p>
<p>然后找到了一个奇怪的解决办法<a href="https://community.jboss.org/thread/186697?start=0&amp;tstart=0"></a><a href="https://community.jboss.org/thread/186697?start=0&amp;amp;tstart=0">https://community.jboss.org/thread/186697?start=0&amp;tstart=0</a> </p>
<p>: 在-ejb/src/main/resources目录下添加了一个空的文件 seam.properties 问题搞定,</p>
<p>不知道这个文件干了些什么事,但显然这是个必需的文件,还要继续查看原因</p></div>         
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-03-02/40061131463">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            2nd Mar 2014
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-03-02/40061131463#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                    <!--[if IE 7]><li><![endif]-->
                    <div class="Tags">
                        <img src="http://x.srcdd.com/farm1/c8b5b1/b9008db1/D3517.png">
                        <a href="/?tag=authenticator" title="authenticator">#authentica...</a><a href="/?tag=PropertyNotFoundException" title="PropertyNotFoundException">#PropertyNo...</a><a href="/?tag=seam2.3" title="seam2.3">#seam2.3</a>
                    </div><!-- End Post Tags -->
                    <!--[if IE 7]></li><![endif]-->
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            
                        
            <!--link-->
            <div class="LinkPost">
                <a href="http://chenmingang.diandian.com/post/2014-02-17/40060996277"><div class="LinkIcon"></div></a>
                <div class="PostTitle rich-content"><a href="http://www.itxueyuan.org/view/6324.html?bsh_bid=350595367">JS图片轮播[左右轮播][带说明] - 该图片轮播对 JS图片切换[左右切换][带使用说明] 进行了升级，加上了标题动画，同样使用jQuery库，一个页面可以放置多个图片轮播。 先看一下演示： JS图片轮播[左右轮播][带使用说明</a></div>
            
                <div class="Description rich-content"><p><span>主要函数 animate，<span>setInterval，<span>clearInterval <span>addClass，<span>removeClass</span></span></span></span></span><br></p></div>
            </div><!-- End Link Post -->
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-02-17/40060996277">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            17th Feb 2014
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2014-02-17/40060996277#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            </div>











<div id="Posts">
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-11-03/40058370694"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-11-03/40058370694">JSF2下jstl配置</a></div>
                
                <div class="TextPostBody rich-content"><p><span>一、web目录下pom.xml添加</span><br><span> &nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;</span><br><span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;javax.servlet&lt;/groupId&gt;</span><br><span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;jstl&lt;/artifactId&gt;</span><br><span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;1.1.2&lt;/version&gt;</span><br><span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;scope&gt;provided&lt;/scope&gt;</span><br><span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;</span><br><span>二、命名空间变为 &nbsp;xmlns:c="http://java.sun.com/jsp/jstl/core"</span><br></p></div>            
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-11-03/40058370694">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            3 Nov 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-11-03/40058370694#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-11-03/40058562656"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-11-03/40058562656">URIEncode on JBoss 7(支持中文搜索)</a></div>
                
                <div class="TextPostBody rich-content"><p><a href="https://community.jboss.org/message/643825#643825">https://community.jboss.org/message/643825#643825</a><br></p>
<p>&nbsp;</p>
<p>Inside standalone.xml insert<br></p>
<p>&nbsp;</p>
<p> &nbsp;&lt;system-properties&gt;</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- URI Properties --&gt;</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="org.apache.catalina.connector.URI_ENCODING" value="UTF-8"/&gt;</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="org.apache.catalina.connector.USE_BODY_ENCODING_FOR_QUERY_STRING" value="true"/&gt;</p>
<p> &nbsp;&nbsp;&nbsp;&lt;/system-properties&gt;</p></div>          
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-11-03/40058562656">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            3rd Nov 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-11-03/40058562656#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-10-25/40054496376"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-10-25/40054496376">seam2.3 excel配置</a></div>
                
                <div class="TextPostBody rich-content"><p>pom.xml</p>
<div><div id="highlighter_878780" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">dependency</code><code class="html plain">&gt;&nbsp; </code></div><div class="line number2 index1 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">groupId</code><code class="html plain">&gt;org.jboss.seam&lt;/</code><code class="html keyword">groupId</code><code class="html plain">&gt;&nbsp;&nbsp; </code></div><div class="line number3 index2 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">artifactId</code><code class="html plain">&gt;jboss-seam-excel&lt;/</code><code class="html keyword">artifactId</code><code class="html plain">&gt;&nbsp;&nbsp; </code></div><div class="line number4 index3 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">dependency</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p><span>components.xml</span><br></p>
<div><div id="highlighter_822544" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">xmlns:document="<a href="http://jboss.org/schema/seam/document">http://jboss.org/schema/seam/document</a>"</code></div><div class="line number2 index1 alt1"><code class="html plain">xmlns:excel="<a href="http://jboss.org/schema/seam/excel">http://jboss.org/schema/seam/excel</a>"</code></div><div class="line number3 index2 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number4 index3 alt1"><code class="html spaces">&nbsp;&nbsp;</code><code class="html plain">xsi:schemaLocation="<a href="http://jboss.org/schema/seam/document  ">http://jboss.org/schema/seam/document&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/document-2.3.xsd   ">http://jboss.org/schema/seam/document-2.3.xsd&nbsp;&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/core  ">http://jboss.org/schema/seam/core&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/core-2.3.xsd       ">http://jboss.org/schema/seam/core-2.3.xsd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/components  ">http://jboss.org/schema/seam/components&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/components-2.3.xsd     ">http://jboss.org/schema/seam/components-2.3.xsd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/persistence  ">http://jboss.org/schema/seam/persistence&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/persistence-2.3.xsd     ">http://jboss.org/schema/seam/persistence-2.3.xsd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/security  ">http://jboss.org/schema/seam/security&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/security-2.3.xsd  ">http://jboss.org/schema/seam/security-2.3.xsd&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/web  ">http://jboss.org/schema/seam/web&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/web-2.3.xsd  ">http://jboss.org/schema/seam/web-2.3.xsd&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/async  ">http://jboss.org/schema/seam/async&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/async-2.3.xsd  ">http://jboss.org/schema/seam/async-2.3.xsd&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/excel  ">http://jboss.org/schema/seam/excel&nbsp;&nbsp;</a> <a href="http://jboss.org/schema/seam/excel-2.3.xsd">http://jboss.org/schema/seam/excel-2.3.xsd</a>"&gt;&nbsp;&nbsp;&nbsp; </code></div><div class="line number5 index4 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="html spaces">&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">document:document-store</code> <code class="html color1">use-extensions</code><code class="html plain">=</code><code class="html string">"true"</code><code class="html plain">/&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>&nbsp;</p>
<p>web.xml</p>
<div><div id="highlighter_523621" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">listener</code><code class="html plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">listener-class</code><code class="html plain">&gt;org.jboss.seam.servlet.SeamListener&lt;/</code><code class="html keyword">listener-class</code><code class="html plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">listener</code><code class="html plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">filter</code><code class="html plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">filter-name</code><code class="html plain">&gt;Seam Filter&lt;/</code><code class="html keyword">filter-name</code><code class="html plain">&gt;</code></div><div class="line number7 index6 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">filter-class</code><code class="html plain">&gt;org.jboss.seam.servlet.SeamFilter&lt;/</code><code class="html keyword">filter-class</code><code class="html plain">&gt;</code></div><div class="line number8 index7 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">filter</code><code class="html plain">&gt;</code></div><div class="line number9 index8 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">filter-mapping</code><code class="html plain">&gt;</code></div><div class="line number10 index9 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">filter-name</code><code class="html plain">&gt;Seam Filter&lt;/</code><code class="html keyword">filter-name</code><code class="html plain">&gt;</code></div><div class="line number11 index10 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">url-pattern</code><code class="html plain">&gt;/*&lt;/</code><code class="html keyword">url-pattern</code><code class="html plain">&gt;</code></div><div class="line number12 index11 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">filter-mapping</code><code class="html plain">&gt;</code></div><div class="line number13 index12 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">filter-mapping</code><code class="html plain">&gt;&nbsp; </code></div><div class="line number14 index13 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">filter-name</code><code class="html plain">&gt;Seam Filter&lt;/</code><code class="html keyword">filter-name</code><code class="html plain">&gt;&nbsp; </code></div><div class="line number15 index14 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">url-pattern</code><code class="html plain">&gt;*.pdf&lt;/</code><code class="html keyword">url-pattern</code><code class="html plain">&gt;&nbsp; </code></div><div class="line number16 index15 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">filter-mapping</code><code class="html plain">&gt;&nbsp; </code></div><div class="line number17 index16 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number18 index17 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">filter-mapping</code><code class="html plain">&gt;&nbsp; </code></div><div class="line number19 index18 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">filter-name</code><code class="html plain">&gt;Seam Filter&lt;/</code><code class="html keyword">filter-name</code><code class="html plain">&gt;&nbsp; </code></div><div class="line number20 index19 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">url-pattern</code><code class="html plain">&gt;*.xls&lt;/</code><code class="html keyword">url-pattern</code><code class="html plain">&gt;&nbsp; </code></div><div class="line number21 index20 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">filter-mapping</code><code class="html plain">&gt;</code></div><div class="line number22 index21 alt1"><code class="html plain">&lt;</code><code class="html keyword">context-param</code><code class="html plain">&gt;</code></div><div class="line number23 index22 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">param-name</code><code class="html plain">&gt;com.sun.faces.allowTextChildren&lt;/</code><code class="html keyword">param-name</code><code class="html plain">&gt;</code></div><div class="line number24 index23 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">param-value</code><code class="html plain">&gt;true&lt;/</code><code class="html keyword">param-value</code><code class="html plain">&gt;</code></div><div class="line number25 index24 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">context-param</code><code class="html plain">&gt; </code></div><div class="line number26 index25 alt1"><code class="html plain">&lt;</code><code class="html keyword">context-param</code><code class="html plain">&gt;</code></div><div class="line number27 index26 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">param-name</code><code class="html plain">&gt;webAppRootKey&lt;/</code><code class="html keyword">param-name</code><code class="html plain">&gt;</code></div><div class="line number28 index27 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">param-value</code><code class="html plain">&gt;seam-excel&lt;/</code><code class="html keyword">param-value</code><code class="html plain">&gt;</code></div><div class="line number29 index28 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">context-param</code><code class="html plain">&gt;</code></div><div class="line number30 index29 alt1"><code class="html plain">&lt;</code><code class="html keyword">servlet-mapping</code><code class="html plain">&gt;</code></div><div class="line number31 index30 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">servlet-name</code><code class="html plain">&gt;Document Store Servlet&lt;/</code><code class="html keyword">servlet-name</code><code class="html plain">&gt;</code></div><div class="line number32 index31 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">url-pattern</code><code class="html plain">&gt;*.csv&lt;/</code><code class="html keyword">url-pattern</code><code class="html plain">&gt;</code></div><div class="line number33 index32 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">servlet-mapping</code><code class="html plain">&gt;</code></div><div class="line number34 index33 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">servlet-mapping</code><code class="html plain">&gt;</code></div><div class="line number35 index34 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">servlet-name</code><code class="html plain">&gt;Document Store Servlet&lt;/</code><code class="html keyword">servlet-name</code><code class="html plain">&gt;</code></div><div class="line number36 index35 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">url-pattern</code><code class="html plain">&gt;*.xls&lt;/</code><code class="html keyword">url-pattern</code><code class="html plain">&gt;</code></div><div class="line number37 index36 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">servlet-mapping</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div></div>         
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-10-25/40054496376">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            25th Oct 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-10-25/40054496376#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-10-15/40052655100"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-10-15/40052655100">Chat说吧</a></div>
                
                <div class="TextPostBody rich-content"><p>这个网站可以免费打电话，亲测可用,<span class="edui-filter-line-through">必须是谷歌浏览器!</span><span><span class="edui-filter-decoration-none">现在换成1234了</span></span></p>
<p>https://www.10086china.com/index.html?id=OTkxMzEwMTUxMjU5NDIzMw==<br></p></div>          
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-10-15/40052655100">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            15th Oct 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-10-15/40052655100#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-10-10/40053320720"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-10-10/40053320720">jboss7取消外网访问限制</a></div>
                
                <div class="TextPostBody rich-content"><p>把默认的interface 改为任意ip都可访问</p>
<p>&lt;interface name="public"&gt;</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;any-ipv4-address/&gt;</p>
<p>&lt;/interface&gt;</p></div>         
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-10-10/40053320720">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            10th Oct 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-10-10/40053320720#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-10-08/40052146822"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-10-08/40052146822">Chrome浏览器下几个好用插件</a></div>
                
                <div class="TextPostBody rich-content"><p>广告终结者</p>
<p><a href="https://chrome.google.com/webstore/detail/%E5%B9%BF%E5%91%8A%E7%BB%88%E7%BB%93%E8%80%85/fpdnjdlbdmifoocedhkighhlbchbiikl"></a><a href="https://chrome.google.com/webstore/detail/%E5%B9%BF%E5%91%8A%E7%BB%88%E7%BB%93%E8%80%85/fpdnjdlbdmifoocedhkighhlbchbiikl">https://chrome.google.com/webstore/detail/%E5%B9%BF%E5%91%8A%E7%BB%88%E7%BB%93%E8%80%85/fpdnjdlbdmifoocedhkighhlbchbiikl</a></p>
<p>vimium(纯键盘操作浏览器)<br></p>
<p><a href="https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb"></a><a href="https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb">https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb</a></p>
<p class="edui-filter-align-left">zenmate(翻墙工具)<br></p>
<p><a href="https://chrome.google.com/webstore/detail/zenmate-for-google-chrome/fdcgdnkidjaadafnichfpabhfomcebme"></a><a href="https://chrome.google.com/webstore/detail/zenmate-for-google-chrome/fdcgdnkidjaadafnichfpabhfomcebme">https://chrome.google.com/webstore/detail/zenmate-for-google-chrome/fdcgdnkidjaadafnichfpabhfomcebme</a></p>
<p>&nbsp;</p>
<p>有道词典Chrome划词插件<br></p>
<p><a href="https://chrome.google.com/webstore/detail/%E6%9C%89%E9%81%93%E8%AF%8D%E5%85%B8chrome%E5%88%92%E8%AF%8D%E6%8F%92%E4%BB%B6/eopjamdnofihpioajgfdikhhbobonhbb"></a><a href="https://chrome.google.com/webstore/detail/%E6%9C%89%E9%81%93%E8%AF%8D%E5%85%B8chrome%E5%88%92%E8%AF%8D%E6%8F%92%E4%BB%B6/eopjamdnofihpioajgfdikhhbobonhbb">https://chrome.google.com/webstore/detail/%E6%9C%89%E9%81%93%E8%AF%8D%E5%85%B8chrome%E5%88%92%E8%AF%8D%E6%8F%92%E4%BB%B6/eopjamdnofihpioajgfdikhhbobonhbb</a></p>
<p>FVD Video Downloader(音乐下载)<br></p>
<p><a href="https://chrome.google.com/webstore/detail/fvd-video-downloader/lfmhcpmkbdkbgbmkjoiopeeegenkdikp"></a><a href="https://chrome.google.com/webstore/detail/fvd-video-downloader/lfmhcpmkbdkbgbmkjoiopeeegenkdikp">https://chrome.google.com/webstore/detail/fvd-video-downloader/lfmhcpmkbdkbgbmkjoiopeeegenkdikp</a></p>
<p>betterBrowser(加速浏览器)<br></p>
<p><a href="https://chrome.google.com/webstore/detail/%E5%B9%BF%E5%91%8A%E7%BB%88%E7%BB%93%E8%80%85/fpdnjdlbdmifoocedhkighhlbchbiikl">https://chrome.google.com/webstore/detail/%E5%B9%BF%E5%91%8A%E7%BB%88%E7%BB%93%E8%80%85/fpdnjdlbdmifoocedhkighhlbchbiikl</a><br></p></div>            
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-10-08/40052146822">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            8th Oct 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-10-08/40052146822#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            1&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-09-25/40053968315"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-09-25/40053968315">seam文件读取</a></div>
                
                <div class="TextPostBody rich-content"><p>import org.jboss.seam.core.ResourceLoader;<br></p>
<p><span>private transient InputStream photo = ResourceLoader.instance().getResourceAsStream("/seamlogo.png");</span></p>
<p><span> </span></p></div>         
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-09-25/40053968315">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            25th Sep 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-09-25/40053968315#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-09-11/40053955002"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-09-11/40053955002">f:ajax event类型</a></div>
                
                <div class="TextPostBody rich-content"><pre config="color:#000000;">blur, change, click, dblclick, focus, keydown, keypress, keyup, mousedown, mousemove, mouseout, mouseover, mouseup, select, valueChange</pre></div>         
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-09-11/40053955002">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            11th Sep 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-09-11/40053955002#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                    <!--[if IE 7]><li><![endif]-->
                    <div class="Tags">
                        <img src="http://x.srcdd.com/farm1/c8b5b1/b9008db1/D3517.png">
                        <a href="/?tag=ajax" title="ajax">#ajax</a><a href="/?tag=event" title="event">#event</a><a href="/?tag=jsf2" title="jsf2">#jsf2</a>
                    </div><!-- End Post Tags -->
                    <!--[if IE 7]></li><![endif]-->
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-09-05/40053502602"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-09-05/40053502602">JPA高级分析​</a></div>
                
                <div class="TextPostBody rich-content"><p><a title="JPA高级分析" target="_blank" href="http://blog.sina.com.cn/s/blog_9507b5b90100z7wj.html">转载JPA高级分析</a></p>
<p>&nbsp;</p>
<p>1.JPA的实体生命周期：</p>
<p>JPA的实体有以下4中生命周期状态：</p>
<p>(1).New：瞬时对象，尚未有id，还未和Persistence Context建立关联的对象。</p>
<p>(2).Managed：持久化受管对象，有id值，已经和PersistenceContext建立了关联的对象。</p>
<p>(3).Datached：游离态离线对象，有id值，但没有和PersistenceContext建立关联的对象。</p>
<p>(4).Removed：删除的对象，有id值，尚且和PersistenceContext有关联，但是已经准备好从数据库中删除。</p>
<p>四种状态总结：</p>
<p>状态名 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;作为java对象存在 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在实体管理器中存在 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在数据库存在</p>
<p>New &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no</p>
<p>Managed &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yes</p>
<p>Detached &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no</p>
<p>Removed &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no</p>
<p>2.JPA实体状态的切换：</p>
<p>JPA实体的四种状态之间可以进行切换，具体如下：</p>
<p><span class="text-img-holder"><img src="http://m1.img.srcdd.com/farm5/d/2013/0905/21/D73BEF20AE61C613A3D655A3F3F5AD42_B500_900_500_194.JPEG" width="500" height="194"></span></p>
<p>3.容器管理和应用程序管理的EntityManager实体管理器：</p>
<p>在JPA中有两种管理实体管理器的方法：</p>
<p>(1).容器管理(Container-Manager)的实体管理器：</p>
<p>容器管理实体管理器，是由JavaEE容器所管理的实体管理器，通过PersistenceContext注入方式来生成实体管理器，具体代码如下：</p>
<p>@PersistenceContext(unitName=”持久化单元名称”)</p>
<p>Protected EntityManager em;</p>
<p>(2).应用程序管理(Application-Manager)的实体管理器：</p>
<p>JPA不但可以在JavaEE容器中使用，也可以脱离JavaEE容器在JavaSE程序中使用，当JPA脱离了JavaEE服务器环境时，就需要通过应用程序来获取实体管理器，具体代码如下：</p>
<p>a. 代码方式：</p>
<p>//首先根据持久化单元创建实体管理器工厂</p>
<p>EntityManagerFactory emf =Persistence.createEntityManagerFacotory(持久化策略文件中的持久化单元名称);</p>
<p>//通过实体管理器工厂创建实体管理器</p>
<p>EntityManager em = emf.createEntityManager();</p>
<p>b. 注解方式：</p>
<p>//将持久化单元注入实体管理器工厂中</p>
<p>@PersistenceUnit(持久化单元名称)</p>
<p>protected EntityManager emf;</p>
<p>protected EntityManager em = emf.createEntityManager();</p>
<p>注意：当持久化策略文件中只有一个持久化单元时，在注解中不用指定支持化单元名称。</p>
<p>4.JPA实体管理器的常用方法：</p>
<p>(1).find查找：相当于Hibernate中的get操作，如果一级缓存查找不到会立即去数据库查找，如果查找不到会返回null。</p>
<p>(2).getReference查找：相当于Hibernate中的load操作，如果一级缓存查找不到并不立即去数据库查找，而是去查找二级缓存，返回实体对象的代理，如果查找不到会抛出ObjectNotFindException。</p>
<p>(3).persist：使实体类从new状态或者removed转变到managed状态，并将数据保存到底层数据库中。</p>
<p>(4).remove：将实体变为removed状态，当实体管理器关闭或者刷新时，才会真正地删除数据。</p>
<p>(5).flush：将实体和底层数据库进行同步，当调用persist、merge或者remove方法时，更新并不会立刻同步到数据库中，直到容器决定刷新到数据库中时才会执行，可以调用flush强制刷新。</p>
<p>(6).createQuery：根据JPA QL定义查询对象。</p>
<p>(7).createNativeQuery：允许开发人员根据特定数据库的SQL语法来进行查询操作，只有JPAQL不能满足要求时才使用，不推荐使用，因为增加了程序可移植性。</p>
<p>(8).createNamedQuery：根据实体中标注的命名查询创建查询对象。</p>
<p>(9).merge：将一个detached的实体持久化到数据库中，并转换为managed状态。</p>
<p>5.JPA分页查询：</p>
<p>(1).为实体管理器创建的查询对象设置返回最大结果数：setMaxResults(int maxResult);<br>(2).为实体管理器创建的查询对象设置返回结果开始下标：setFirstResult(int firstResult);<br>6.JPA中调用存储过程：</p>
<p>注意：JPA中只能调用两种存储过程：1.无返回值的存储过程。2.返回值为ResultSet的存储过程(不能是out)。</p>
<p>实体管理器的createNativeQuery(”{call 存储过程名()}”);即可调用数据库的存储过程。</p>
<p>7.JPA的命名参数：</p>
<p>语法：“：参数名”。</p>
<p>例如：</p>
<p>Query query = entityManager.createQuery(”select u from User uwhere u.name=:name”);</p>
<p>//设置查询中的命名参数</p>
<p>Query.setParameter(“name”, testName);</p>
<p>注意：不允许在同一个查询中使用两个相同名字的命名参数。</p>
<p>8.JPA的位置参数：</p>
<p>语法：“？位置参数索引”。</p>
<p>例如：</p>
<p>Query query = entityManager.createQuery(”select u from User uwhere u.name=?1”);</p>
<p>//设置查询中的位置参数</p>
<p>Query.setParameter(1, testName);</p>
<p>注意：JPA中的位置参数索引值从1开始。</p>
<p>9.JPA的集合查询：</p>
<p>我们知道在SQL语句中，查找某元素是否在某个集合中时常用类似：in(a,b,c)的查询语句，在JDBC中我们常常需要将集合元素拼接成以逗号(“,”)分隔的字符串，在JPA中有两种方法可以方便地进行判断元素是否在集合中的查询：</p>
<p>(1).设置集合类型的参数：</p>
<p>查询对象的setParameter方法支持Object类型，因此可以传入一个集合类型的参数，如数组或者ArrayList等。</p>
<p>例如：</p>
<p>Query query = em.createQuery(“select * from Users where namein(?names)”);</p>
<p>query.setParameter(“name”, names);//names是一个name集合</p>
<p>(2).使用member of关键字：</p>
<p>例如：</p>
<p>Select t from Topic t where :option member of t.options;</p>
<p>10.JPA的回调方法：</p>
<p>JPA中，实体类支持一些回调方法，可以通过如下的注解指定回调方法：</p>
<p>(1).@PrePersist：在persist方法调用后立刻发生，级联保存也会发生该事件，此时数据还没有真实插入数据库中。</p>
<p>(2).@PostPersist：数据已经插入进数据库中后触发。</p>
<p>(3).@PreRemove：在实体从数据库删除之前触发。级联删除也会触发该事件，此时数据还没有真实从数据库中删除。</p>
<p>(4).@PostRemove：在实体已经从数据库中删除后触发。</p>
<p>(5).@PreUpdate：在实体的状态同步到数据库之前触发，此时数据还没有真实更新到数据库中。</p>
<p>(6).@PostUpdate：在实体的状态同步到数据库后触发，同步在事务提交时发生。</p>
<p>(7).@PostLoad：在以下情况触发：</p>
<p>a.执行find或者getReference方法载入一个实体之后。</p>
<p>b.执行JPA QL查询之后。</p>
<p>c.refresh方法被调用之后。</p>
<p>11.事务管理特性：</p>
<p>事务所数据库的一个逻辑工作单元，包含一系列的操作，事务有四个特性，即ACID特性：</p>
<p>(1).Atomic(原子性)：</p>
<p>事务中的各个操作不可分割，事务中所包含的操作被看作一个逻辑单元，这个逻辑单元中的操作要么全部成功，要么全部失败。</p>
<p>(2).Consistency(一致性)：</p>
<p>一致性意味着，只有合法的数据才可以被写入数据库，如果数据有任何不符合，则事务应该将其回滚。</p>
<p>(3).Isolation(隔离性)：</p>
<p>事务允许多个用户对同一个数据的并发访问，而不破坏数据的正确性和完整性。同时，并行事务的修改必须与其他并行事务的修改相互独立。按照比较严格隔离逻辑来讲，一个事务看到的数据要么是另外一个事务修改这些数据之前的状态，要么是一个事务已经修改完成的数据，决不能是其他事务正在修改的数据。</p>
<p>(4).Durability(持久性)：</p>
<p>事务结束后，事务处理的结果必须能够得到持久化。</p>
<p>12.数据操作过程中可能会出现的3中不确定情况：</p>
<p>(1).脏读取：</p>
<p>一个事务读取了另一个并行事务未提交的数据。</p>
<p>(2).不可重复读：</p>
<p>一个事务再次读取之前曾经读过的数据时，发现该数据已经被另一个已提交的事务修改。</p>
<p>(3).幻读：</p>
<p>同一查询在同一事务中多次进行，由于其他事务提交所做的操作，使得每次返回不同的结果集，从而产生换读。</p>
<p>13.事务的隔离级别：</p>
<p>事务的隔离，是指数据库(或其他事务系统)通过某种机制，在并行的多个事务之间进行分割，使得每个事务在其执行过程中保持独立，如同当前只有一个事务在单独运行。为了避免12中3中不确定情况的发生，标准的SQL规范中定义了如下4中事务隔离级别：</p>
<p>(1).为提交读：</p>
<p>最低等级的事务隔离，仅仅保证了读取过程中不会读取到非法数据。</p>
<p>(2).已提交读：</p>
<p>该级别的事务隔离保证了一个事务不会读取到另一个并行事务已修改但未提交的数据，避免了脏读。大多数主流数据库默认的事务隔离等级是已提交读。</p>
<p>(3).重复读：</p>
<p>该级别的事务隔离避免了脏读和不可重复读，但是也意味着，一个事务部可能更新已经由另一个事务读取但未提交的数据。</p>
<p>(4).序列化：</p>
<p>最高等级的事务隔离，也提供了最严格的隔离机制，上面3种不确定情况都可以被避免。该级别将模拟事务的串行执行，逻辑上如同所有的事务都处于一个执行队列中，依次串行执行，而非并行执行。</p>
<p>4种事务隔离级别总结：</p>
<p>隔离等级 脏读 不可重复读 幻读</p>
<p>未提交读 可能 可能 可能</p>
<p>提交读 不可能 可能 可能</p>
<p>重复读 不可能 不可能 可能</p>
<p>序列化 不可能 不可能 不可能</p>
<p>9. JDBC事务和JTA事务：</p>
<p>JDBC事务：只能支持一个数据库，单数据源，一个由数据库本身来执行提交或回滚，单阶段提交，本地事务。JDBC事务由Connection管理，事务周期局限于Connection的生命周期之内。</p>
<p>JTA事务：JTA提供了跨Session的事务管理能力，支持多数据源的分布式事务，两阶段提交。JTA事务管理由JTA容器实现，JTA容器对当前加入事务的众多Connection进行调度，实现其事务性要求，JTA的事务周期可横跨多个JDBCConnection生命周期。</p>
<p>10. 事务的传播特性：</p>
<p>事务传播特性是用于指定当进行操作时，如何使用事务，JPA中有以下6种事务传播特性：</p>
<p>(1).Not Support：不支持，若当前事务有上下文，则挂起。</p>
<p>(2).Support：支持，若有事务，则使用事务，若无事务，则不使用事务。</p>
<p>(3).Required：需要，若有事务，则使用使用，若无事务，则创建新的事务。</p>
<p>(4).Required New：需要新事务，每次都会创建新的事务。</p>
<p>(5).Mandatory：必须有事务，若无事务，则将抛出异常。</p>
<p>(6).Never：必须不能有事务，若有事务，则会抛出异常。</p>
<p>16.锁的机制：</p>
<p>所谓锁，就是给选定的目标对象加上限制，使其无法被其他程序所修改，JPA支持两种锁机制：乐观锁和悲观锁。</p>
<p>(1).悲观锁：</p>
<p>对数据被外界修改持保守态度，在整个数据处理过程中，将数据处于锁定状态，悲观锁的实现，往往依靠数据库提供的锁机制。最常用的悲观锁是在查询时加上“forupdate“，用法如下：</p>
<p>Select * from user where name=”test” for update</p>
<p>在JPA中，可以通过给Query对象设置锁模式(query.setLockMode)来制定悲观锁的模式：</p>
<p>a.LockMode.NONE：无锁机制。</p>
<p>b.LockMode.WRITE：在insert和update时会自动加锁。</p>
<p>c.LockMode.READ：在读取记录时会自动加锁。</p>
<p>d.LockMode.UPGRADE：利用数据库的for update字句加锁。</p>
<p>(2).乐观锁：</p>
<p>相对于悲观锁，乐观锁机制采用较为宽松的加锁机制，悲观锁大多数情况下依靠数据库锁的机制实现，以保证操作最大程度的独占性，但是数据库的性能开销比较大。而乐观锁大多数基于数据版本(version)记录或者时间戳机制实现。</p>
<p>基于版本的乐观锁在读取数据时将数据的版本号一同读出，之后更新则对版本号加1，提交时对数据的版本与数据库中对应的版本进行比较，如果提交数据数据版本号打于数据库中当前版本号，则予以更新，否则认为是过期数据。乐观锁大大减小了数据库开销，提高了程序的性能。</p>
<p>JPA中可以在实体中使用@Version注解指定其使用乐观锁，JPA会在数据库对应的表中自动生成和维护一列版本号。</p>
<p>17.Spring集成JPA：</p>
<p>JPA不但可以在JavaEE环境中使用，也可以还JavaSE环境中使用，spring现在在java开发中应用非常广泛，Spring同样提供了对JPA的强大支持。Spring集成JPA的步骤如下：<br>(1).在MATE-INF下添加JPA的持久化策略文件，开发实体bean。</p>
<p>(2).为工程引入Spring支持。添加Spring相关依赖包和spring配置文件。</p>
<p>(3).在spring配置文件中加入JPA配置如下：</p>
<p>&lt;bean id=”entityManagerFactory”</p>
<p>class=”org.springframework.orm.jpa.LocalEntityManagerFactoryBean”&gt;</p>
<p>&lt;property name=”persistenceUnitName”value=”持久化单元名称”/&gt;</p>
<p>&lt;/bean&gt;</p>
<p>&lt;bean id=”transactionManager”</p>
<p>class=”org.springframework.orm.jpa.JpaTransactionManager”&gt;</p>
<p>&lt;property name=”entityManagerFactory” ref=”entityManagerFactory”/&gt;</p>
<p>&lt;/bean&gt;</p>
<p>&lt;tx:annotation-driven transaction-manager=”transactionManager”/&gt;</p>
<p>至此，Spring和JPA的简单集成完成。</p></div>          
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-09-05/40053502602">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            5th Sep 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-09-05/40053502602#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            
                        
            <!--link-->
            <div class="LinkPost">
                <a href="http://chenmingang.diandian.com/post/2013-07-22/40050416532"><div class="LinkIcon"></div></a>
                <div class="PostTitle rich-content"><a href="http://study.163.com/course/courseMain.htm?courseId=212005#/courseMain">JPA视频教程</a></div>
            
                <div class="Description rich-content"><p>JPA是对hibernate等ORM（对象关系映射）的一种规范，也是seam中直接使用的一种技术</p>
<p><strong>学习笔记：</strong></p>
<p><strong> &nbsp;&nbsp;个人感觉级联操作和关系维护是重点难点（即catcade 和 mappedBy）</strong><br><strong></strong></p>
<p><strong> &nbsp;&nbsp;</strong>1.<span>枚举类型映射：enum &nbsp;&nbsp;&nbsp;@Enumerated （EnumType.STRING）</span></p>
<p> &nbsp;&nbsp;2.<span>@Lob &nbsp;大文本数据、二进制数据</span></p>
<p> &nbsp;&nbsp;3.<span>@Transient &nbsp;不进行映射</span></p>
<p> &nbsp;&nbsp;4.<span>@Basic(fetch=FetchType.LAZY) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//懒加载</span> &nbsp;&nbsp;建议用于大文本或二进制数据上</p>
<p> &nbsp;&nbsp;5.<span>级联操作只有调用对应方法的时候才会有效，用sql语句等其他方法无效</span></p>
<p> &nbsp;&nbsp;6.<span>optional（mangytoone属性） &nbsp;可选 &nbsp;为true时表示可以为空</span></p>
<p> &nbsp;&nbsp;7.<span>可以不先建关系维护表，用joinTable可以直接生成</span></p>
<p> &nbsp;&nbsp;8.<span>在有对“多”的一方操作时可以为另一方添加一个添加、删除 方法，用起来更方便</span></p>
<p> &nbsp;&nbsp;9.<span>不能从关系被维护端操作外键，要先解除关系才能删除关系被维护端。而可以直接删除关系维护端，同时也删除了关联关系</span></p>
<p> &nbsp;&nbsp;10.<span><span>个人认为可以在关系被维护端添加一个删除方法，先解除关系再删除</span>，要解除所有的关系维护端与关系被维护端的关系才能执行对关系被维护端做删除操作</span><span></span><br></p></div>
            </div><!-- End Link Post -->
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-07-22/40050416532">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            22nd Jul 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-07-22/40050416532#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                    <!--[if IE 7]><li><![endif]-->
                    <div class="Tags">
                        <img src="http://x.srcdd.com/farm1/c8b5b1/b9008db1/D3517.png">
                        <a href="/?tag=JPA" title="JPA">#JPA</a><a href="/?tag=%E7%BD%91%E6%98%93%E5%85%AC%E5%BC%80%E8%AF%BE" title="网易公开课">#网易公开课</a>
                    </div><!-- End Post Tags -->
                    <!--[if IE 7]></li><![endif]-->
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            </div>

<div id="Posts">
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-07-22/40050779894"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-07-22/40050779894">对cascade、inverse（mappedBy）的理解</a></div>
                
                <div class="TextPostBody rich-content"><p><strong>1.</strong><strong>cascade（级联）</strong><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在级联中，在完成一个操作（增、删、改）之后，它决定自己是否需要在另一个与它有关系的实体上调用其他操作（增、删、改）</p>
<p>基于JPA规范，也就是apache jsr220规范，也是EJB3的持久层规范：<br><strong>ALL</strong>,//所有操作都会有级联反应<br><strong>PERSIST</strong>,//调用session.persist()时触发<br><strong>MERGE</strong>,//调用session.merge()触发<br><strong>REMOVE</strong>,//调用session.delete()触发<br><strong>REFRESH</strong>,//调用session.refresh()触发<br><strong>DETACH</strong>,//与持久对象关联的Session被关闭后触发</p>
<p>要注意合理配置级联，多对多关系是不太适合级联的，比如学生和老师的关系，不能因为删除了一个老师就把所有学生删除了<br></p>
<p>&nbsp;</p>
<p><strong>2.</strong><strong>inverse</strong><br> &nbsp;&nbsp;&nbsp;&nbsp;inverse，英文意思是反向，反转。在这里可以理解为控制反转，也就是说实体间的关系由谁控制，所以inverse用在实体关联上。如OneToOne，OneToMany，ManyToMany，在OneToMany中，如果不指定inverse，（inverse通过mappedBy来设置）那么hibernate会去找默认的表来维持关系。</p>
<p>inverse=true会使主控方放弃对关系的维护，提高效率</p>
<p><strong>3.</strong>mappedBy</p>
<p> &nbsp;&nbsp;&nbsp;指的就是xml配置下的inverse=true &nbsp;inverse=true会使主控方放弃对关系的维护，mappedBy跟JoinColumn/JoinTable总是处于互斥的一方，可以理解为正是由于拥有方的关联被拥有方的字段存在，拥有方才拥有了被拥有方。mappedBy这方定义的JoinColumn/JoinTable总是失效的，不会建立对应的字段或者表。<br></p>
<p>贴的代码：<br></p>
<div><div id="highlighter_115390" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java color1">@Entity</code></div><div class="line number2 index1 alt1"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Parent {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;</code><code class="java comments">// ...</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;</code><code class="java color1">@OneToMany</code><code class="java plain">(mappedBy = </code><code class="java string">"parent"</code><code class="java plain">,</code><code class="java comments">/*此处的parent是指的Child中的parent字段*/</code> <code class="java plain">fetch = FetchType.LAZY, </code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cascade = {CascadeType.REMOVE, CascadeType.PERSIST})</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Cascade</code><code class="java plain">({org.hibernate.annotations.CascadeType.SAVE_UPDATE})</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">Set&lt;Child&gt; children = </code><code class="java keyword">new</code> <code class="java plain">HashSet&lt;Child&gt;();</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;</code><code class="java comments">// ...</code></div><div class="line number11 index10 alt2"><code class="java plain">}</code></div><div class="line number12 index11 alt1"><code class="java comments">////////////////////////////////////////////////////////////////&nbsp; </code></div><div class="line number13 index12 alt2"><code class="java color1">@Entity</code></div><div class="line number14 index13 alt1"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">Child {</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// ...</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@ManyToOne</code><code class="java plain">(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Cascade</code><code class="java plain">({org.hibernate.annotations.CascadeType.SAVE_UPDATE})</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">Parent parent;</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// ...</code></div><div class="line number22 index21 alt1"><code class="java plain">}</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number24 index23 alt1"><code class="java comments">///////////////////////////////////////////////////////////&nbsp; </code></div><div class="line number25 index24 alt2"><code class="java plain">Parent parent = </code><code class="java keyword">new</code> <code class="java plain">Parent();</code></div><div class="line number26 index25 alt1"><code class="java plain">Child child = </code><code class="java keyword">new</code> <code class="java plain">Child();</code></div><div class="line number27 index26 alt2"><code class="java plain">parent.setChild(parent);</code></div><div class="line number28 index27 alt1"><code class="java plain">em.persist(parent); </code><code class="java comments">//will cascade update to child</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number30 index29 alt1"><code class="java plain">child.getParent(); </code><code class="java comments">// returns the parent</code></div></div></td></tr></tbody></table></div></div>
<br>
<p><span class="edui-filter-line-through">依然没有理解透彻，有mappedBy说明parent不会去维护对child的关系，但它同时又存在cascade岂不是又要维护关系了？？？？？？？？？？？？？？？？？？？？</span></p>
<p><span class="edui-filter-line-through">暂时这样理解</span><span class="edui-filter-decoration-none">，以上理解错误。</span>mappedBy注解的作用是不会把级联关系保存到parent表之中</p>
<p><strong>××× cascade与mappedBy并不冲突，一个是级联操作， 一个是关系维护，两者可以并存×××</strong></p>
<p><strong>它们全部都是对外键的操作，不影响其他内容</strong><br></p></div>          
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-07-22/40050779894">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            22 Jul 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-07-22/40050779894#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            
                        
            <!--link-->
            <div class="LinkPost">
                <a href="http://chenmingang.diandian.com/post/2013-07-21/40051224278"><div class="LinkIcon"></div></a>
                <div class="PostTitle rich-content"><a href="http://study.163.com/course/courseMain.htm?courseId=212013#/courseMain">hibernate视频教程</a></div>
            
                <div class="Description rich-content"><p>（网易云课堂，，挺好！！！）可以先看这个，seam里面的实体bean部分就可以轻松理解了，只不过在seam里面把配置文件xml换成了注解，大家可以先看看这个。<br></p></div>
            </div><!-- End Link Post -->
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-07-21/40051224278">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            21st Jul 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-07-21/40051224278#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-07-17/40051269576"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-07-17/40051269576">​a:jsFunction  使用方法</a></div>
                
                <div class="TextPostBody rich-content"><p> &nbsp;&nbsp;&nbsp;a:jsFunction &nbsp;可以用于传递多个参数，如有需要也可以实现触发多个函数（在js里调用）<br></p>
<div><div id="highlighter_475986" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">input</code> <code class="html color1">type</code><code class="html plain">=</code><code class="html string">"button"</code>&nbsp; <code class="html color1">onclick</code><code class="html plain">=</code><code class="html string">"jsFun()"</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"确定"</code> <code class="html plain">/&gt;</code></div><div class="line number2 index1 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2"><code class="html plain">&lt;</code><code class="html keyword">h:form</code><code class="html plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="html spaces">&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">a:jsFunction</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"a_jsFun"</code> <code class="html color1">action</code><code class="html plain">=</code><code class="html string">"#{cardList.batchSaleToAlliance}"</code> <code class="html color1">status</code><code class="html plain">=</code><code class="html string">"maskStatus"</code> <code class="html color1">oncomplete</code><code class="html plain">=</code><code class="html string">"window.location.reload()"</code><code class="html plain">&gt; </code></div><div class="line number5 index4 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">a:actionparam</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"param1"</code> <code class="html color1">assignTo</code><code class="html plain">=</code><code class="html string">"#{cardList.data}"</code><code class="html plain">/&gt;</code></div><div class="line number6 index5 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">a:actionparam</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"param2"</code> <code class="html color1">assignTo</code><code class="html plain">=</code><code class="html string">"#{cardList.card.alliance.id}"</code><code class="html plain">/&gt;</code></div><div class="line number7 index6 alt2"><code class="html plain">&lt;/</code><code class="html keyword">a:jsFunction</code><code class="html plain">&gt;</code></div><div class="line number8 index7 alt1"><code class="html plain">&lt;/</code><code class="html keyword">h:form</code><code class="html plain">&gt;</code></div><div class="line number9 index8 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="html plain">&lt;</code><code class="html keyword">script</code><code class="html plain">&gt;</code></div><div class="line number11 index10 alt2"><code class="html plain">//</code><code class="html color2">&lt;![CDATA[</code></div><div class="line number12 index11 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">function jsFun(){</code></div><div class="line number13 index12 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">var data=getCardIds();</code></div><div class="line number14 index13 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">var alliance=document.getElementById("id").value;</code></div><div class="line number15 index14 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number16 index15 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">a_jsFun(data.join(","),alliance);</code></div><div class="line number17 index16 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number18 index17 alt1"><code class="html color2">//]]&gt;</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div class="line number19 index18 alt2"><code class="html plain">&lt;/</code><code class="html keyword">script</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>当点击“确定”按钮后就会执行js函数，js函数获取所需数据然后执行&lt;a:jsFunction /&gt;的函数<br></p></div>         
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-07-17/40051269576">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            17th Jul 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-07-17/40051269576#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-06-10/40051460600"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-06-10/40051460600">seam传递参数（java对象）</a></div>
                
                <div class="TextPostBody rich-content"><p><span class="edui-filter-line-through">seam jsf往后台传参数的时候默认只能传递字符串、数字等简单类型，对于复杂类型需要添加自己的转换器才能传递。但偶然发现以ajax的方式可以传递对象</span></p>
<div><div id="highlighter_663435" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">span</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"edui-filter-line-through"</code><code class="html plain">&gt;经销商：</code></div><div class="line number2 index1 alt1"><code class="html plain">&lt;</code><code class="html keyword">h:selectOneMenu</code> &nbsp;<code class="html color1">value</code><code class="html plain">=</code><code class="html string">"#{cardList.card.alliance}"</code> <code class="html plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">s:selectItems</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"#{allianceList.resultList}"</code> <code class="html color1">var</code><code class="html plain">=</code><code class="html string">"_a"</code> <code class="html color1">label</code><code class="html plain">=</code><code class="html string">"#{_a.name}"</code> <code class="html color1">noSelectionLabel</code><code class="html plain">=</code><code class="html string">"请选择"</code> <code class="html plain">/&gt;</code></div><div class="line number4 index3 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">s:convertEntity</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">s:convertEntity</code><code class="html plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">a:support</code> <code class="html color1">event</code><code class="html plain">=</code><code class="html string">"onchange"</code> <code class="html plain">/&gt;</code></div><div class="line number6 index5 alt1"><code class="html spaces">&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">h:selectOneMenu</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">span</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p><span class="edui-filter-line-through">这样可以将</span><code><span class="edui-filter-line-through">s:selectItems</span></code><span class="edui-filter-line-through">里的对象传递给单选菜单</span></p>
<p><span class="edui-filter-decoration-none">以前写错了,真正转换类型的是s:convertEntity当时不知怎么加了个ajax</span></p></div>            
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-06-10/40051460600">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            10th Jun 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-06-10/40051460600#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-06-10/40050898221"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-06-10/40050898221">页面跳转-手动添加参数</a></div>
                
                <div class="TextPostBody rich-content"><p> &lt;a href="moneyReceiveList.seam?memberId=#{member.id}"&gt;跳转&lt;/a&gt;</p>
<p>添加多个参数用<strong>&amp;amp;</strong>连接<br></p>
<p>?status=ABNORMAL<strong>&amp;amp;</strong>type=BVALUE<br><br></p></div>          
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-06-10/40050898221">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            10th Jun 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-06-10/40050898221#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-06-10/40050767879"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-06-10/40050767879">seam导出Excel相关</a></div>
                
                <div class="TextPostBody rich-content"><p>1.引入excel的操作库</p>
<p>xmlns:e="<a href="http://jboss.com/products/seam/excel&quot;">http://jboss.com/products/seam/excel"</a></p>
<p>2.创建导出页面 </p>
<div><div id="highlighter_836167" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">e:workbook</code><code class="html plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">e:worksheet</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"card"</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"#{cardList.resultList}"</code> <code class="html color1">var</code><code class="html plain">=</code><code class="html string">"_card"</code><code class="html plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">e:header</code><code class="html plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">f:facet</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"left"</code><code class="html plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">测试</code></div><div class="line number6 index5 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">f:facet</code><code class="html plain">&gt;</code></div><div class="line number7 index6 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">e:header</code><code class="html plain">&gt;</code></div><div class="line number8 index7 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">e:column</code> <code class="html color1">style</code><code class="html plain">=</code><code class="html string">"xls-column-autosize: true;xls-force-type:text"</code><code class="html plain">&gt;</code></div><div class="line number9 index8 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">f:facet</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"header"</code><code class="html plain">&gt;</code></div><div class="line number10 index9 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">e:cell</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"加油卡号"</code> <code class="html color1">style</code><code class="html plain">=</code><code class="html string">"xls-font: red bold 10 Verdana"</code> <code class="html plain">/&gt;</code></div><div class="line number11 index10 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">f:facet</code><code class="html plain">&gt;</code></div><div class="line number12 index11 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">e:cell</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"#{_card.no}"</code> <code class="html color1">style</code><code class="html plain">=</code><code class="html string">"xls-force-type:text"</code> <code class="html plain">/&gt;</code></div><div class="line number13 index12 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">e:column</code><code class="html plain">&gt;</code></div><div class="line number14 index13 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">e:column</code> <code class="html color1">style</code><code class="html plain">=</code><code class="html string">"xls-column-autosize: true"</code><code class="html plain">&gt;</code></div><div class="line number15 index14 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">f:facet</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"header"</code><code class="html plain">&gt;</code></div><div class="line number16 index15 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">e:cell</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"过期时间"</code> <code class="html color1">style</code><code class="html plain">=</code><code class="html string">"xls-font: red bold 10 Verdana"</code> <code class="html plain">/&gt;</code></div><div class="line number17 index16 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">f:facet</code><code class="html plain">&gt;</code></div><div class="line number18 index17 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">e:cell</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"#{_card.dateExpire}"</code> <code class="html color1">style</code><code class="html plain">=</code><code class="html string">"xls-force-type:text"</code><code class="html plain">/&gt;</code></div><div class="line number19 index18 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">e:column</code><code class="html plain">&gt;</code></div><div class="line number20 index19 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">e:column</code> <code class="html color1">style</code><code class="html plain">=</code><code class="html string">"xls-column-autosize: true"</code><code class="html plain">&gt;</code></div><div class="line number21 index20 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">f:facet</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"header"</code><code class="html plain">&gt;</code></div><div class="line number22 index21 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">e:cell</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"初始金额"</code> <code class="html color1">style</code><code class="html plain">=</code><code class="html string">"xls-font: red bold 10 Verdana"</code> <code class="html plain">/&gt;</code></div><div class="line number23 index22 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">f:facet</code><code class="html plain">&gt;</code></div><div class="line number24 index23 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">e:cell</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"#{_card.money}"</code> <code class="html color1">style</code><code class="html plain">=</code><code class="html string">"xls-force-type:text"</code><code class="html plain">&gt;</code></div><div class="line number25 index24 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">e:cell</code><code class="html plain">&gt;</code></div><div class="line number26 index25 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">e:column</code><code class="html plain">&gt;</code></div><div class="line number27 index26 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number28 index27 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">e:worksheet</code><code class="html plain">&gt;</code></div><div class="line number29 index28 alt2"><code class="html plain">&lt;/</code><code class="html keyword">e:workbook</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>另外还需要page.xml，总之配置方法和普通xhtml页面完全一样<br></p></div>         
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-06-10/40050767879">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            10th Jun 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-06-10/40050767879#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                    <!--[if IE 7]><li><![endif]-->
                    <div class="Tags">
                        <img src="http://x.srcdd.com/farm1/c8b5b1/b9008db1/D3517.png">
                        <a href="/?tag=seam" title="seam">#seam</a><a href="/?tag=excel" title="excel">#excel</a>
                    </div><!-- End Post Tags -->
                    <!--[if IE 7]></li><![endif]-->
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-06-10/40050600935"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-06-10/40050600935">seam权限控制</a></div>
                
                <div class="TextPostBody rich-content"><p>1.将当前登陆用户的角色名称加入到identity中</p>
<div><div id="highlighter_453272" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">for</code> <code class="java plain">(Role role : member.getRoles()){</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">identity.addRole(role.getName());</code></div><div class="line number3 index2 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>2. 在需要权限控制page.xml页面加入restrict标签<br></p>
<p>&lt;restrict&gt;#{<code>identity</code>.hasRole('admin')&lt;/restrict&gt;</p>
<p>当然restrict标签里面只需要一个返回布尔型的方法，所以这个方法完全可以自己定义<br></p></div>         
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-06-10/40050600935">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            10th Jun 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-06-10/40050600935#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                    <!--[if IE 7]><li><![endif]-->
                    <div class="Tags">
                        <img src="http://x.srcdd.com/farm1/c8b5b1/b9008db1/D3517.png">
                        <a href="/?tag=seam" title="seam">#seam</a><a href="/?tag=%E6%9D%83%E9%99%90" title="权限">#权限</a>
                    </div><!-- End Post Tags -->
                    <!--[if IE 7]></li><![endif]-->
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-01-29/40049104272"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-01-29/40049104272">UEditor在seam中的使用（2013年6月2号修订）</a></div>
                
                <div class="TextPostBody rich-content"><p>1.首先从官网上下载 &nbsp;&nbsp;&nbsp;UEditor的软件包 <a href="http://ueditor.baidu.com/website/">下载地址</a></p>
<p>2.把软件包解压到view目录下</p>
<p>3.在xhtml中引入需要的js和css文件 </p>
<div><div id="highlighter_695682" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">meta</code> <code class="html color1">http-equiv</code><code class="html plain">=</code><code class="html string">"Content-Type"</code> <code class="html color1">content</code><code class="html plain">=</code><code class="html string">"text/html; charset=UTF-8"</code><code class="html plain">/&gt;</code></div><div class="line number2 index1 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2"><code class="html spaces">&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">script</code> <code class="html color1">type</code><code class="html plain">=</code><code class="html string">"text/javascript"</code> <code class="html color1">src</code><code class="html plain">=</code><code class="html string">"/sdutpress/ueditor/editor_config.js"</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">script</code><code class="html plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="html spaces">&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">script</code> <code class="html color1">type</code><code class="html plain">=</code><code class="html string">"text/javascript"</code> <code class="html color1">src</code><code class="html plain">=</code><code class="html string">"/sdutpress/ueditor/editor_all.js"</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">script</code><code class="html plain">&gt; </code></div><div class="line number5 index4 alt2"><code class="html spaces">&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">link</code> <code class="html color1">rel</code><code class="html plain">=</code><code class="html string">"stylesheet"</code> <code class="html color1">type</code><code class="html plain">=</code><code class="html string">"text/css"</code> <code class="html color1">href</code><code class="html plain">=</code><code class="html string">"/sdutpress/ueditor/themes/default/css/ueditor.css"</code> <code class="html color1">charset</code><code class="html plain">=</code><code class="html string">"utf-8"</code><code class="html plain">/&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>&nbsp;</p>
<p>在页面中修改配置参数（sdutpress为项目名称）<br> &nbsp;&nbsp;</p>
<div><div id="highlighter_263464" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">script</code> <code class="html color1">type</code><code class="html plain">=</code><code class="html string">"text/javascript"</code><code class="html plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">//</code><code class="html color2">&lt;![CDATA[</code></div><div class="line number3 index2 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">window.UEDITOR_HOME_URL = '/sdutpress/ueditor/';</code></div><div class="line number4 index3 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">//]]&gt;</code></div><div class="line number5 index4 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">script</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>&nbsp;</p>
<p>此处配置使用severlet上传图片附件<br></p>
<div><div id="highlighter_366610" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">script</code> <code class="html color1">type</code><code class="html plain">=</code><code class="html string">"text/javascript"</code><code class="html plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">//</code><code class="html color2">&lt;![CDATA[</code></div><div class="line number3 index2 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">window.UEDITOR_CONFIG.imageUrl= '/sdutpress/ueditor/upload.action?type=IMAGE&amp;JSESSIONID=#{articleHome.sessionId}';</code></div><div class="line number4 index3 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">window.UEDITOR_CONFIG.imagePath="";</code></div><div class="line number5 index4 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">window.UEDITOR_CONFIG.fileUrl="/sdutpress/ueditor/upload.action?type=FILE&amp;JSESSIONID=#{articleHome.sessionId}";</code></div><div class="line number6 index5 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">window.UEDITOR_CONFIG.filePath="";</code></div><div class="line number7 index6 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">//]]&gt;</code></div><div class="line number8 index7 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">script</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>&nbsp;</p>
<p>4.在web.xml中配置severlet</p>
<div><div id="highlighter_95344" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">servlet-name</code><code class="html plain">&gt;UEUpload&lt;/</code><code class="html keyword">servlet-name</code><code class="html plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">servlet-class</code><code class="html plain">&gt;tk.youthol.sdutpress.action.UEUploadServlet&lt;/</code><code class="html keyword">servlet-class</code><code class="html plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">load-on-startup</code><code class="html plain">&gt;1&lt;/</code><code class="html keyword">load-on-startup</code><code class="html plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="html spaces">&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">servlet</code><code class="html plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="html spaces">&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">servlet-mapping</code><code class="html plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">servlet-name</code><code class="html plain">&gt;UEUpload&lt;/</code><code class="html keyword">servlet-name</code><code class="html plain">&gt;</code></div><div class="line number7 index6 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">url-pattern</code><code class="html plain">&gt;/ueditor/upload.action&lt;/</code><code class="html keyword">url-pattern</code><code class="html plain">&gt;</code></div><div class="line number8 index7 alt1"><code class="html spaces">&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">servlet-mapping</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>&nbsp;</p>
<p>5.在需要添加富文本的地方加上</p>
<p>&nbsp;</p>
<div><div id="highlighter_193660" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">script</code> <code class="html color1">type</code><code class="html plain">=</code><code class="html string">"text/plain"</code> <code class="html color1">id</code><code class="html plain">=</code><code class="html string">"editor"</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"content"</code> <code class="html color1">style</code><code class="html plain">=</code><code class="html string">"width:1000px"</code><code class="html plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html plain">&lt;</code><code class="html keyword">h:outputText</code>&nbsp; <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"#{articleHome.instance.content}"</code> <code class="html color1">escape</code><code class="html plain">=</code><code class="html string">"false"</code><code class="html plain">/&gt;</code></div><div class="line number3 index2 alt2"><code class="html spaces">&nbsp;&nbsp;</code><code class="html plain">&lt;/</code><code class="html keyword">script</code><code class="html plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2"><code class="html plain">&lt;</code><code class="html keyword">script</code> <code class="html color1">type</code><code class="html plain">=</code><code class="html string">"text/javascript"</code><code class="html plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="html plain">//</code><code class="html color2">&lt;![CDATA[</code></div><div class="line number7 index6 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">var editor = new UE.ui.Editor();</code></div><div class="line number8 index7 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">editor.render('editor');</code></div><div class="line number9 index8 alt2"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="html color2">//--]]&gt;</code></div><div class="line number10 index9 alt1"><code class="html plain">&lt;/</code><code class="html keyword">script</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>&nbsp;</p>
<p>6.在该页面的page.xml中加上参数 &nbsp;&nbsp;<br></p>
<div><div id="highlighter_580104" class="syntaxhighlighter  html"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">param</code> <code class="html color1">name</code><code class="html plain">=</code><code class="html string">"content"</code> <code class="html color1">value</code><code class="html plain">=</code><code class="html string">"#{articleHome.instance.content}"</code><code class="html plain">/&gt;</code></div><div class="line number2 index1 alt1"><code class="html spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2"><code class="html plain">//name为&lt;</code><code class="html keyword">textarea</code> <code class="html plain">/&gt;的name</code></div></div></td></tr></tbody></table></div></div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>另附上传文件的severlet：<br></p>
<div><div id="highlighter_100397" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">package</code> <code class="java plain">tk.youthol.sdutpress.action;</code></div><div class="line number2 index1 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2"><code class="java keyword">import</code> <code class="java plain">java.io.File;</code></div><div class="line number4 index3 alt1"><code class="java keyword">import</code> <code class="java plain">java.io.FileOutputStream;</code></div><div class="line number5 index4 alt2"><code class="java keyword">import</code> <code class="java plain">java.io.IOException;</code></div><div class="line number6 index5 alt1"><code class="java keyword">import</code> <code class="java plain">java.io.InputStream;</code></div><div class="line number7 index6 alt2"><code class="java keyword">import</code> <code class="java plain">java.io.PrintWriter;</code></div><div class="line number8 index7 alt1"><code class="java keyword">import</code> <code class="java plain">java.text.SimpleDateFormat;</code></div><div class="line number9 index8 alt2"><code class="java keyword">import</code> <code class="java plain">java.util.Date;</code></div><div class="line number10 index9 alt1"><code class="java keyword">import</code> <code class="java plain">org.jboss.seam.web.IdentityRequestWrapper;</code></div><div class="line number11 index10 alt2"><code class="java keyword">import</code> <code class="java plain">org.jboss.seam.web.MultipartRequest;</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="java keyword">import</code> <code class="java plain">javax.naming.Context;</code></div><div class="line number15 index14 alt2"><code class="java keyword">import</code> <code class="java plain">javax.naming.InitialContext;</code></div><div class="line number16 index15 alt1"><code class="java keyword">import</code> <code class="java plain">javax.servlet.ServletConfig;</code></div><div class="line number17 index16 alt2"><code class="java keyword">import</code> <code class="java plain">javax.servlet.ServletException;</code></div><div class="line number18 index17 alt1"><code class="java keyword">import</code> <code class="java plain">javax.servlet.http.HttpServlet;</code></div><div class="line number19 index18 alt2"><code class="java keyword">import</code> <code class="java plain">javax.servlet.http.HttpServletRequest;</code></div><div class="line number20 index19 alt1"><code class="java keyword">import</code> <code class="java plain">javax.servlet.http.HttpServletResponse;</code></div><div class="line number21 index20 alt2"><code class="java keyword">import</code> <code class="java plain">javax.sql.DataSource;</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number24 index23 alt1"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">UEUploadServlet </code><code class="java keyword">extends</code> <code class="java plain">HttpServlet {</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">String realPath;</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">String imagePath;</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">UEUploadServlet() {</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">super</code><code class="java plain">();</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">init(ServletConfig config) </code><code class="java keyword">throws</code> <code class="java plain">ServletException {</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">super</code><code class="java plain">.init(config);</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">destroy() {</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">super</code><code class="java plain">.destroy(); </code><code class="java comments">// Just puts "destroy" string in log</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">doPost(HttpServletRequest request, HttpServletResponse response)</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">throws</code> <code class="java plain">ServletException, IOException {</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String type=(String) request.getParameter(</code><code class="java string">"type"</code><code class="java plain">);</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//路径写死了，只是测试用,存在view目录下的file文件夹下</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String storePath=request.getContextPath()+</code><code class="java string">"/file/"</code><code class="java plain">;</code></div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">realPath=</code><code class="java keyword">this</code><code class="java plain">.getServletConfig().getServletContext().getRealPath(</code><code class="java string">"/"</code><code class="java plain">)+</code><code class="java string">"file"</code><code class="java plain">;</code></div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number56 index55 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">SimpleDateFormat df=</code><code class="java keyword">new</code> <code class="java plain">SimpleDateFormat(</code><code class="java string">"yyyyMMdd"</code><code class="java plain">);</code></div><div class="line number57 index56 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String sDate=df.format(</code><code class="java keyword">new</code> <code class="java plain">Date());</code></div><div class="line number58 index57 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number59 index58 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">realPath=realPath+</code><code class="java string">"/"</code><code class="java plain">+sDate+</code><code class="java string">"/"</code><code class="java plain">;</code></div><div class="line number60 index59 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">File f=</code><code class="java keyword">new</code> <code class="java plain">File(realPath);</code></div><div class="line number61 index60 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code><code class="java plain">(!f.isDirectory())</code></div><div class="line number62 index61 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">f.mkdir();</code></div><div class="line number63 index62 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">imagePath=storePath+sDate+</code><code class="java string">"/"</code><code class="java plain">;</code></div><div class="line number64 index63 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//log("real path="+realPath);</code></div><div class="line number65 index64 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//log("image path="+imagePath);</code></div><div class="line number66 index65 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">IdentityRequestWrapper wrapper =(IdentityRequestWrapper)request;</code></div><div class="line number67 index66 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number68 index67 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">MultipartRequest multipartRequest=(MultipartRequest)wrapper.getRequest();</code></div><div class="line number69 index68 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number70 index69 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number71 index70 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String fileName=multipartRequest.getFileName(</code><code class="java string">"upfile"</code><code class="java plain">);</code></div><div class="line number72 index71 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">log(</code><code class="java string">"--------upload file="</code><code class="java plain">+fileName);</code></div><div class="line number73 index72 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">SimpleDateFormat dateformat1=</code><code class="java keyword">new</code> <code class="java plain">SimpleDateFormat(</code><code class="java string">"yyyyMMddHHmmss"</code><code class="java plain">);</code></div><div class="line number74 index73 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String date=dateformat1.format(</code><code class="java keyword">new</code> <code class="java plain">Date());</code></div><div class="line number75 index74 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">StringBuffer bf=</code><code class="java keyword">new</code> <code class="java plain">StringBuffer();</code></div><div class="line number76 index75 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number77 index76 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">bf.append(fileName);</code></div><div class="line number78 index77 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">bf.append(date);</code></div><div class="line number79 index78 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number80 index79 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String fileFormat=fileName.substring(fileName.lastIndexOf(</code><code class="java string">"."</code><code class="java plain">)+</code><code class="java value">1</code><code class="java plain">);</code></div><div class="line number81 index80 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String destFile=(bf.toString().substring(</code><code class="java value">0</code><code class="java plain">,</code><code class="java value">16</code><code class="java plain">)+</code><code class="java string">"."</code><code class="java plain">+fileFormat);</code></div><div class="line number82 index81 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">destFile=destFile.replaceAll(</code><code class="java string">" "</code><code class="java plain">, </code><code class="java string">""</code><code class="java plain">);</code></div><div class="line number83 index82 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">log(</code><code class="java string">"file name="</code><code class="java plain">+fileName+</code><code class="java string">",destfile="</code><code class="java plain">+destFile);</code></div><div class="line number84 index83 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Integer fileSize=</code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number85 index84 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">java.io.File saveFile = </code><code class="java keyword">new</code> <code class="java plain">java.io.File(realPath, destFile);</code></div><div class="line number86 index85 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">InputStream fis =&nbsp; multipartRequest.getFileInputStream(</code><code class="java string">"upfile"</code><code class="java plain">);</code></div><div class="line number87 index86 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">FileOutputStream outFile = </code><code class="java keyword">new</code> <code class="java plain">FileOutputStream(saveFile);</code></div><div class="line number88 index87 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">bytes = </code><code class="java value">0</code><code class="java plain">;</code></div><div class="line number89 index88 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">byte</code><code class="java plain">[] bteFile = </code><code class="java keyword">new</code> <code class="java keyword">byte</code><code class="java plain">[</code><code class="java value">1024</code><code class="java plain">];</code></div><div class="line number90 index89 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code> <code class="java plain">((bytes = fis.read(bteFile)) != -</code><code class="java value">1</code><code class="java plain">) {</code></div><div class="line number91 index90 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">outFile.write(bteFile, </code><code class="java value">0</code><code class="java plain">,bytes);</code></div><div class="line number92 index91 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">fileSize+=bytes;</code></div><div class="line number93 index92 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number94 index93 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number95 index94 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">fis.close();</code></div><div class="line number96 index95 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">outFile.close();</code></div><div class="line number97 index96 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number98 index97 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">response.setContentType(</code><code class="java string">"text/plain"</code><code class="java plain">);</code></div><div class="line number99 index98 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">response.setCharacterEncoding(</code><code class="java string">"utf-8"</code><code class="java plain">);</code></div><div class="line number100 index99 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">PrintWriter out = response.getWriter();</code></div><div class="line number101 index100 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String result=</code><code class="java string">"{ \"url\":\""</code><code class="java plain">+imagePath+destFile+</code><code class="java string">"\", \"original\":\""</code><code class="java plain">+fileName+</code><code class="java string">"\", \"state\":\"SUCCESS\",\"fileType\":\"."</code><code class="java plain">+fileFormat+</code><code class="java string">"\" }"</code><code class="java plain">;</code></div><div class="line number102 index101 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">log(result);</code></div><div class="line number103 index102 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">out.println(result);</code></div><div class="line number104 index103 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number105 index104 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number106 index105 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">out.flush();</code></div><div class="line number107 index106 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">out.close();</code></div><div class="line number108 index107 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number109 index108 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number110 index109 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number111 index110 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number112 index111 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number113 index112 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">doGet(HttpServletRequest request, HttpServletResponse response)</code></div><div class="line number114 index113 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">throws</code> <code class="java plain">ServletException, IOException {</code></div><div class="line number115 index114 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number116 index115 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//doGet(request, response);</code></div><div class="line number117 index116 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number118 index117 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number119 index118 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number120 index119 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">init() </code><code class="java keyword">throws</code> <code class="java plain">ServletException {</code></div><div class="line number121 index120 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number122 index121 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//得到数据库链接</code></div><div class="line number123 index122 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java plain">DataSource getDS() </code><code class="java keyword">throws</code> <code class="java plain">Exception {</code></div><div class="line number124 index123 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Context c = </code><code class="java keyword">new</code> <code class="java plain">InitialContext();</code></div><div class="line number125 index124 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">(DataSource) c.lookup(</code><code class="java string">"kjglDatasource"</code><code class="java plain">);</code></div><div class="line number126 index125 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div></div>          
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-01-29/40049104272">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            2nd Jun 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-01-29/40049104272#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            2&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                    <!--[if IE 7]><li><![endif]-->
                    <div class="Tags">
                        <img src="http://x.srcdd.com/farm1/c8b5b1/b9008db1/D3517.png">
                        <a href="/?tag=UEditor" title="UEditor">#UEditor</a><a href="/?tag=jsf" title="jsf">#jsf</a><a href="/?tag=seam" title="seam">#seam</a><a href="/?tag=%E5%AF%8C%E6%96%87%E6%9C%AC" title="富文本">#富文本</a>
                    </div><!-- End Post Tags -->
                    <!--[if IE 7]></li><![endif]-->
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-05-21/40050507529"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-05-21/40050507529">提交表单方式等的总结</a></div>
                
                <div class="TextPostBody rich-content"><p>1.&lt;h:commandButton action="/admin/cardList.xhtml" value="搜索"/&gt;<strong> 提交表单</strong>并刷新页面，当前action参数会以get方法提交，而如果是“/admin/cardList.seam”则会以post方法提交。<br><br>2. &nbsp;在用 &nbsp;RESTRICTIONS &nbsp;进行<strong>子</strong><strong>对象的查询</strong>时一定要保证子对象不为空 比如：<br><br><br> &nbsp;&nbsp;&nbsp;&nbsp;"m.alliance.id = #{memberList.member.alliance.id} ",<br> &nbsp;&nbsp;&nbsp;&nbsp;进行多级查询，要在get方法里处理为空的情况<br> &nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;public Member getMember() {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(member.getAlliance()==null)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;member.setAlliance(new Alliance());<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return member;<br> &nbsp;&nbsp;&nbsp;}<br><br>3. &nbsp;用&lt;h:inputHiden /&gt; 时 除定义name value外还要在page.xml里定义<strong>参数</strong>param才能<strong>传递</strong></p>
<p><br>4. 往项目里边<strong>导包</strong>的时候要在deployed-jars-ear.list里面声明，修改过后要用seam clean 命令清除项目缓存然后部署到jboss里</p>
<p><br>5.不能在构造函数里面<strong>使用注入的组件</strong>，否则会报空指针异常</p>
<p><br>6. seam 做<strong>本地查询得出对象</strong>时要用这种格式，否则会报转换失败异常getEntityManager().createNativeQuery("select * from alliance where is_default=true",<strong>Alliance.class</strong>)</p>
<p><br>7.Member member=getEntityManager().find(Member.class,<strong> currentUser.getId()</strong>);可以这样得到对象，另不能直接操作sesson中的对象</p>
<p><br>8.&lt;restrict&gt;#{s:hasRole('admin')&lt;/restrict&gt; 用于<strong>权限控制</strong></p>
<p>我写的东西好乱啊。。。。<br></p></div>           
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-05-21/40050507529">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            21st May 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-05-21/40050507529#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-04-19/40050834987"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-04-19/40050834987">为导航添加当前页面样式（jsf）</a></div>
                
                <div class="TextPostBody rich-content"><p>&lt;li &nbsp;class="global-nav-master &nbsp;#{current=='memberList'?'global-nav-master-current':''}"&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a &nbsp;class="global-nav-master-a" href="#{request.contextPath}/admin/memberList.seam"&gt;&lt;strong&gt;用户列表&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;<br></p>
<p>主要是#{current== &nbsp;#{current=='memberList'?'global-nav-master-current': ''}<br></p>
<p>含义就是判断current变量是否等于membeList &nbsp;</p>
<p>当然在/admin/memberList.seam页面里会传一个参数&lt;ui:param name="current" value="memberList"/&gt; &nbsp;<br></p>
<p>这样当访问memberList页面时会首先把“memberList”这个字符串传给current，然后经过判断就会加载所需样式<br></p></div>            
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-04-19/40050834987">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            19th Apr 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-04-19/40050834987#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            </div>



<div id="Posts">
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-04-19/40051905529"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-04-19/40051905529">JPA批注（注解）</a></div>
                
                <div class="TextPostBody rich-content"><p>本来想贴上几个例子的，但又发现实在没必要因为下边的 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://yunpan.cn/QWJnJftibPWnb">资料</a> &nbsp;&nbsp;&nbsp;太完善了，包含了所有的内容，下载后用浏览器打开里面的 &nbsp;&nbsp;JPA 批注参考.htm &nbsp;就可以找到所有的注解，经常要用到的有</p>
<p> &nbsp;&nbsp;&nbsp;@Id<br> &nbsp;&nbsp;&nbsp;@Column(name = "id", unique = true, nullable = false)<br> &nbsp;&nbsp;&nbsp;@SequenceGenerator(name="member_seq" ,sequenceName="member_id_seq",allocationSize=1)<br> &nbsp;&nbsp;&nbsp;@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = "member_seq")</p>
<p>以上是注解在主键上的，具体用法看资料</p>
<p> &nbsp;&nbsp;&nbsp;@Entity<br> &nbsp;&nbsp;&nbsp;@Table<br></p>
<p> &nbsp;&nbsp;&nbsp;@Column(name = "username", nullable = false, length = 50)</p>
<p> &nbsp;&nbsp;&nbsp;@NotNull<br> &nbsp;&nbsp;&nbsp;@Length(max = 50)</p>
<p>&nbsp;</p>
<p> &nbsp;&nbsp;&nbsp;@Temporal(TemporalType.DATE)<br> &nbsp;&nbsp;&nbsp;@Column(name = "date_expire", length = 13)</p>
<p> &nbsp;&nbsp;&nbsp;@ManyToMany</p>
<p> &nbsp;&nbsp;&nbsp;@OneToOne</p>
<p> &nbsp;&nbsp;&nbsp;@OneToMany</p>
<p> &nbsp;&nbsp;&nbsp;@ManyToOne</p>
<p><br> &nbsp;&nbsp;&nbsp;@JoinTable</p>
<p> &nbsp;&nbsp;&nbsp;@JoinColumn<br></p>
<p> &nbsp;&nbsp;&nbsp;@Transient<br></p></div>          
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-04-19/40051905529">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            19 Apr 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-04-19/40051905529#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-04-18/40050148768"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-04-18/40050148768">变量规范及home、list的概念</a></div>
                
                <div class="TextPostBody rich-content"><p> &nbsp;&nbsp;&nbsp;第一次做项目发现学得东西太粗糙了，太不规范，经老师一指点大多都得重做。自己的虽然也能实现功能，但后台代码太乱了。而且seam本身就是一个框架，遵照它的规范做往往会事半功倍。</p>
<p>1.首先说一下命名的规范</p>
<p> &nbsp;&nbsp;&nbsp;建seam的项目当然是先建数据库，而字段的名字直接决定接下来用seam-gen生成的项目的实体bean变量名。简单点来说，java里的变量名都是首字母小写随后的单词首字母大写，比如: <strong>helloWord </strong> 第二个单词首字母就要大写。与其对应的数据库字段的名字就是<strong>hello_word</strong>，中间用下划线连接。贴个例子</p>
<p>create table member -- 会员表<br>(<br> &nbsp;&nbsp;&nbsp;id serial NOT NULL,<br> &nbsp;&nbsp;&nbsp;username character varying(50) not null,--用户名<br> &nbsp;&nbsp;&nbsp;zsh_card_num character varying(100),--卡号<br> &nbsp;&nbsp;&nbsp;date_expire date,--过期时间<br> &nbsp;&nbsp;&nbsp;card_num character varying(100),--卡号<br> &nbsp;&nbsp;&nbsp;CONSTRAINT member_pkey PRIMARY KEY (id )<br>);</p>
<p>以上是sql建表语句</p>
<p>以下就是用seam-gen生成的实体bean的变量<br></p>
<p> &nbsp;&nbsp;&nbsp;private Integer id;<br> &nbsp;&nbsp;&nbsp;private String username;<br> &nbsp;&nbsp;&nbsp;private String zshCardNum;<br> &nbsp;&nbsp;&nbsp;private Date dateExpire;<br> &nbsp;&nbsp;&nbsp;private String cardNum;<br></p>
<p>2.随后seam里面的重点就是对Home和List类的使用了</p>
<p> &nbsp;&nbsp;&nbsp;Home指的就是实体bean的home，需要注意的是，home里面一次只能住一个实体，家里最多有一个人。它主要执行的是对实体对象的增、删、改操作，而且有许多继承来的方法，可以说就算你一个方法都不写仅用原有的方法就可以做许多事了。</p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List里面主要进行一些查询操作，灵活使用 &nbsp;RESTRICTIONS &nbsp;变量就可以从数据库中查出符合条件的记录。并且里面提供了一套对结果分页的方法，稍加改动就可以做出自己的分页组件</p>
<p> &nbsp;&nbsp;&nbsp;下一次将贴上几个常用的JPA注解的例子<br></p>
<p>&nbsp;</p>
<p>&nbsp;</p></div>         
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-04-18/40050148768">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            18th Apr 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-04-18/40050148768#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            2&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-03-30/40049327359"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-03-30/40049327359">seam 代码小片段（得到系统时间、格式化时间、得到IP）</a></div>
                
                <div class="TextPostBody rich-content"><p><strong>1. &nbsp;</strong> SimpleDateFormat df=new SimpleDateFormat("yyyy-MM-dd &nbsp;HH:mm:ss"); <br></p>
<p>comment.setTimeCreated(df.parse(df.format(new Date())));//得到系统时间并写入数据库<br></p>
<p><strong>2.</strong> &nbsp;&nbsp;&nbsp;&nbsp;&lt;h:outputLabel value="#{_c.timeCreated}" &gt;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;f:convertDateTime pattern="yyyy-MM-dd &nbsp;&nbsp;&nbsp;&nbsp;HH:mm:ss &nbsp;" timeZone="GMT+8" locale="cn"/&gt;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/h:outputLabel&gt; &nbsp;&nbsp;&nbsp;&nbsp;//////jsf &nbsp;格式化时间</p>
<p><strong>3.</strong> &nbsp;&nbsp;&nbsp;&nbsp;@In(create=true,required=false)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FacesContext fc;</p>
<p>String ip=((HttpServletRequest) fc.getCurrentInstance().getExternalContext().getRequest()).getRemoteAddr(); &nbsp;&nbsp;&nbsp;&nbsp;/////////////得到用户ip<br></p></div>            
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-03-30/40049327359">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            30th Mar 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-03-30/40049327359#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            
                        
            <!--link-->
            <div class="LinkPost">
                <a href="http://chenmingang.diandian.com/post/2013-01-26/40049353901"><div class="LinkIcon"></div></a>
                <div class="PostTitle rich-content"><a href="http://www.ubuntuhome.com/ubuntu-all-command.html">ubuntu命令大合集 | Ubuntu Home</a></div>
            
                
            </div><!-- End Link Post -->
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-01-26/40049353901">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            26th Jan 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    <li>
                        <a href="http://sxfeng.diandian.com">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/2d57bb74/4C44F.png">
                            转载自 &nbsp;风吹过的那些天
                        </a><!-- End Reblog From Link -->
                    </li><!-- End Rebloged From Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-01-26/40049353901#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            2&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-01-21/40047887674"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-01-21/40047887674">导入EntityManager的变量命名问题</a></div>
                
                <div class="TextPostBody rich-content"><p><br> &nbsp;&nbsp;&nbsp;@In(create=true)<br> &nbsp;&nbsp;&nbsp;EntityManager entityManager;</p>
<p> &nbsp;&nbsp;&nbsp;这个entityManager不是随便命名的， 是需要在components.xml里配置的 </p>
<p>&lt;persistence:managed-persistence-context name="<strong>entityManager</strong>" auto-create="true"<br> &nbsp;persistence-unit-jndi-name="@puJndiName@"/&gt;</p>
<p>做一下补充</p>
<p>在pojo里是以上导入entityMamager的方法而在ejb里使用@PersistenceContext注解<br></p></div>           
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-01-21/40047887674">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            21st Jan 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-01-21/40047887674#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2013-01-21/40047107391"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2013-01-21/40047107391">jQuery中$符号冲突问题</a></div>
                
                <div class="TextPostBody rich-content"><p><a href="http://blog.163.com/mengchun_accp/blog/static/1662965092011113032649966/">原文地址</a></p>
<p>在Jquery中，$是JQuery的别名，所有使用$的地方也都可以使用JQuery来替换，如$('#msg')等同于JQuery('#msg')的写法。然而，当我们引入多个js库后，在另外一个js库中也定义了$符号的话，那么我们在使用$符号时就发生了冲突。</p>
<p>如何正确的使用不同的js库中定义的$符号。<br><br><strong>一.使用JQuery.noConflict()</strong><br>该方法的作用就是让Jquery放弃对$的所有权，将$的控制权交还给prototype.js,因为jquery.js是后引入的，所以最后拥有$控制权的是jquery。它的返回值是JQuery。当在代码中调用了该方法以后，我们就不可以使用$来调用jquery的方法了，此时$就代表在prototype.js库中定义的$了。如下：<br><br>JQuery.noConflict();<br><br>//此处不可以再写成$('#msg').hide(),此时的$代表prototype.js中定义的$符号。<br>JQuey('#msg').hide();<br><br><br>自此以后$就代表prototype.js中定义的$,jquery.js中的$无法再使用,只能使用jquery.js中$的全称JQuery了。<br><br><br><strong>二.自定义JQuery的别名</strong><br>如果觉得第一种方法中使用了JQuery.noConflict()方法以后,只能使用JQuery全称比较麻烦的话，我们还可以为JQuery重定义别名。如下：<br><br>var &nbsp;$j=JQuery.noConflict();<br>$j('#msg').hide();//此处$j就代表JQuery<br><br><br>自此以后$就代表prototype.js中定义的$,jquey.js中的$无法再使用,只能使用$j来作为jquey.js中JQuery的别名了。<br></p></div>          
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-01-21/40047107391">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            21st Jan 2013
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2013-01-21/40047107391#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                    <!--[if IE 7]><li><![endif]-->
                    <div class="Tags">
                        <img src="http://x.srcdd.com/farm1/c8b5b1/b9008db1/D3517.png">
                        <a href="/?tag=jQuery" title="jQuery">#jQuery</a><a href="/?tag=$" title="$">#$</a>
                    </div><!-- End Post Tags -->
                    <!--[if IE 7]></li><![endif]-->
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2012-12-14/40046975932"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2012-12-14/40046975932">jrebel配置及seam-gen创建项目流程</a></div>
                
                <div class="TextPostBody rich-content"><p>1.首先配置一下ajrebel，</p>
<p> &nbsp;&nbsp;这是一个代替启动jboss &nbsp;run.sh 的方法，好处就是很好的支持项目的热部署，在不该动实体bean的情况下只需要用ant explode就可以，不必重启jboss，它需要以下 &nbsp;的文件，<br> &nbsp;jrebel.tar.gz &nbsp;&nbsp;&nbsp;http://yunpan.cn/QCxhpTUTGByrL（提取码：5aad）<br> &nbsp;ajrebel.sh &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://yunpan.cn/QCxhCBQhgAFLU（提取码：59ad）</p>
<p> &nbsp;&nbsp;将jrebel.tar.gz下载解压到一个目录，然后把ajrebel.sh放在jboss的bin目录下，</p>
<p> &nbsp;并将ajrebel.sh修改如下 &nbsp;<br> &nbsp;#!/bin/bash <br> &nbsp;export JAVA_OPTS="-javaagent:/home/momo/java/jrebel/jrebel.jar &nbsp;<br> &nbsp;&nbsp;-Xms1024m -Xmx1024m -XX:MaxPermSize=256m $JAVA_OPTS"<br> &nbsp;`dirname $0`/run.sh -b 0.0.0.0 $@</p>
<p> &nbsp;上文的javaagent:后的目录为解压的jrebel目录，-Xms为初始的java内存堆大小，-Xmx为最大的java内存堆大小，-XX:MaxPermSize为最大的GC预留内存 ，以上为2G内存的参考值。</p>
<p> &nbsp;修改完毕后 &nbsp;赋予ajrebel.sh执行权限：sudo chmod +x ajrebel.sh</p>
<p> &nbsp;进入jboss/bin目录 运行./ajrebel.sh 即可运行jboss，有报错属正常情况，项目可运行</p>
<p>2.创建数据库以及需要的数据表（参看变量规范http://chenmingang.diandian.com/post/2013-04-18/40050148768）</p>
<p>3.进入seam目录运行 ./seam setup &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./seam create-project &nbsp;&nbsp;&nbsp;&nbsp;./seam generate<br></p>
<p>./seam setup 的配置情况见： 附件 &nbsp;&nbsp;http://yunpan.cn/QCxh7wYIjEX6P（提取码：8024）</p>
<p>4.项目部署需要用ant explode<br><a href="http://l7.yunpan.cn/lk/QM4zBdB5Zki5N"></a></p></div>            
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-12-14/40046975932">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            14th Dec 2012
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-12-14/40046975932#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            2&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                    <!--[if IE 7]><li><![endif]-->
                    <div class="Tags">
                        <img src="http://x.srcdd.com/farm1/c8b5b1/b9008db1/D3517.png">
                        <a href="/?tag=seam-gen" title="seam-gen">#seam-gen</a><a href="/?tag=ajrebel" title="ajrebel">#ajrebel</a>
                    </div><!-- End Post Tags -->
                    <!--[if IE 7]></li><![endif]-->
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2012-12-10/40047119397"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2012-12-10/40047119397">richfaces、ajax官方演示学习网站</a></div>
                
                <div class="TextPostBody rich-content"><p><a href="http://showcase.richfaces.org/richfaces/component-sample.jsf?demo=commandButton&amp;skin=wine">showcase.richfaces.org</a></p></div>          
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-12-10/40047119397">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            10th Dec 2012
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-12-10/40047119397#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2012-12-09/40047530911"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2012-12-09/40047530911">seam中用到的标签（不全待续。。）全了。。。</a></div>
                
                <div class="TextPostBody rich-content"><p>*******************************************************************************************</p>
<p>* &nbsp;&nbsp;&nbsp;&nbsp;好吧，感谢csdn_propher的伟大分享精神。。。特全的资料，ejb，seam必备 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</p>
<p>* &nbsp;&nbsp;&nbsp;<a href="http://yunpan.cn/lk/sVep3XZspndXS">Ejb3.0资料总结</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</p>
<p>* &nbsp;&nbsp;&nbsp;<a href="http://yunpan.cn/lk/sVeprCgqDt5Bu">seam的注解和标签</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</p>
<p>* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://download.csdn.net/user/propher">原文地址</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &nbsp;&nbsp;</p>
<p> &nbsp;&nbsp;********************************************************************************************</p>
<p>&nbsp;</p>
<p>1.<a href="http://yunpan.cn/lk/sVe5wE9mzjbES">ajax标签</a></p>
<p>2.<a href="http://yunpan.cn/lk/sVe5wvwVCyALI">Ejbql语言</a></p>
<p>3.<a href="http://yunpan.cn/lk/sVe5wR2bZxBsi">richfaces及ajax标签</a></p>
<p>4.<a href="http://yunpan.cn/lk/sVezCgbmngUPt">jsf标签</a></p>
<p>5.ui &nbsp;木有</p>
<p>6. 木有</p></div>          
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-12-09/40047530911">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            9th Dec 2012
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-12-09/40047530911#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                    <!--[if IE 7]><li><![endif]-->
                    <div class="Tags">
                        <img src="http://x.srcdd.com/farm1/c8b5b1/b9008db1/D3517.png">
                        <a href="/?tag=seam" title="seam">#seam</a><a href="/?tag=Ejb" title="Ejb">#Ejb</a><a href="/?tag=%E6%B3%A8%E8%A7%A3" title="注解">#注解</a><a href="/?tag=%E6%A0%87%E7%AD%BE" title="标签">#标签</a>
                    </div><!-- End Post Tags -->
                    <!--[if IE 7]></li><![endif]-->
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2012-11-18/40041966119"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2012-11-18/40041966119">jsf错误</a></div>
                
                <div class="TextPostBody rich-content"><p><strong>1</strong>.WELD-000079 Could not find the EJB in JNDI: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;。。。。Unable to build EntityManagerFactory</p>
<p>也就我会出现这种问题了。。。汗。 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Table类中忘了加setId()方法了 。。 各种捣鼓没想到是这种错误。。。</p>
<p><strong>2.</strong>无语了。。eclipse自动导包错误，导成了另一个包中的同名注解，@RequestScoped &nbsp;得到的是一个null值，导致数据库中无法写入数据，，下次注意注意。。。</p>
<p>3.在有@manytoone或者@onetomany注解的地方不能加@column注解<br></p></div>            
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-11-18/40041966119">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            18th Nov 2012
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-11-18/40041966119#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            1&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            </div>



<div id="Posts">
            
            
            
            
            
                        
            <!--link-->
            <div class="LinkPost">
                <a href="http://chenmingang.diandian.com/post/2012-11-12/40042023170"><div class="LinkIcon"></div></a>
                <div class="PostTitle rich-content"><a href="http://www.infoq.com/cn/articles/jboss-seam">seam</a></div>
            
                
            </div><!-- End Link Post -->
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-11-12/40042023170">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            12 Nov 2012
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-11-12/40042023170#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            
                        
            <!--link-->
            <div class="LinkPost">
                <a href="http://chenmingang.diandian.com/post/2012-11-12/40041288492"><div class="LinkIcon"></div></a>
                <div class="PostTitle rich-content"><a href="http://iknow.4ucode.com/Study/Topic/2034713">jsf注解seam</a></div>
            
                
            </div><!-- End Link Post -->
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-11-12/40041288492">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            12th Nov 2012
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-11-12/40041288492#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            0&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            <!--photo-->
            
            
            
            <div class="PhotoPost photo">
                <div class="PhotoWrapper">      
                    <a href="http://chenmingang.diandian.com/post/2012-10-15/40039367666" title="Android: 


 谷歌，你们这是赤裸裸的抄袭啊，我们有证据！


">  
                        <img class="PhotoPostImage" src="http://m3.img.srcdd.com/farm4/d/2012/1015/17/B1E32424B691557D3ECC89DFC957805F_B1280_1280_366_382.JPEG" width="366" height="382" alt="">
                    </a>
                </div><!-- End Photo Wrapper -->
                
                <a href="http://chenmingang.diandian.com/post/2012-10-15/40039367666"><div class="PhotoIcon"></div></a>
                
                
                
                 
            </div><!-- End Photo Post -->
            
            
            
            <!--判断为多张图片-->
            
            
            
            
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-10-15/40039367666">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            15th Oct 2012
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    <li>
                        <a href="http://androidpk.diandian.com">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/2d57bb74/4C44F.png">
                            转载自 &nbsp;AndroidPK
                        </a><!-- End Reblog From Link -->
                    </li><!-- End Rebloged From Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-10-15/40039367666#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            12&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            
            
            
            <!--text-->
            <div class="TextPost">
                <a href="http://chenmingang.diandian.com/post/2012-10-15/40040715911"><div class="TextIcon"></div></a>
                <div class="PostTitle"><a href="http://chenmingang.diandian.com/post/2012-10-15/40040715911">jsf  ubuntu下配置开发环境</a></div>
                
                <div class="TextPostBody rich-content"><p><strong> &nbsp;1.配置jdk &nbsp;</strong> </p>
<p> 点击下载java <a href="http://yunpan.cn/lk/91fqubkevq">jdk1.6.0_35.tar</a><br><strong>配置环境变量：</strong> <br>输入命令 &nbsp;gedit .bashrc<br>在打开的文件末尾添加: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>export JAVA_HOME=$HOME/java/jdk/jdk1.6.0_35 <br>//地址为你的jdk解压包所在的位置最后是解压包的名字。 &nbsp;<br>export PATH=$PATH:$JAVA_HOME/bin &nbsp;&nbsp;<br> 然后保存，退出。<br><strong>可能遇到的问题:</strong><br>如果显示usr/bin/java 不存在或没有该目录<br> ~$ java -versionbash: /usr/local/lib/jvm/java-7- sun/bin/java: &nbsp;&nbsp;&nbsp;&nbsp;没有那个文件或目录 <br> &nbsp;则需要再加上一个命令<br>sudo &nbsp;apt-get install ia32-libs<br></p>
<p>安装完成后应该就能解决问题了，原因是没有安装32位的运行库 </p>
<p> &nbsp;<strong> 2.配置maven &nbsp;</strong><br> &nbsp;&nbsp;下载<a href="http://l7.yunpan.cn/lk/91mywjvkvq">apache-maven-3.0.4.tar</a> <br> <strong>配置环境变量：</strong> <br> &nbsp;&nbsp;输入命令 &nbsp;gedit .bashrc<br>在打开的文件末尾添加: &nbsp;&nbsp;<br> export M2_HOME=$HOME/java/maven/apache-maven-3.0.4 &nbsp;//加自己的文件路径<br> export PATH=$PATH:$M2_HOME/bin<br></p>
<p>&nbsp;</p>
<p> <strong> 3.配置jboss &nbsp;</strong><br> 下载<a href="http://yunpan.cn/lk/91haufmtvq">jboss-6.1.0.Final.tar</a> </p>
<p><strong>配置环境变量：</strong> <br> &nbsp;&nbsp;&nbsp;&nbsp;输入命令 &nbsp;gedit .bashrc<br> &nbsp;&nbsp;&nbsp;在打开的文件末尾添加: &nbsp;&nbsp;<br> &nbsp;&nbsp;export JBOSS_HOME=$HOME/java/jboss/jboss-6.1.0.Final //加自己的文件路径<br> &nbsp;&nbsp;export PATH=$PATH:$JBOSS_HOME/bin</p>
<p><strong>4.eclipse</strong></p>
<p>下载地址 <a href="http://yunpan.cn/lk/sVBWKHFfffYkf">eclipse-jee-juno-SR1-linux-gtk.tar.gz</a> </p>
<p>jbosstools <a href="https://www.jboss.org/tools">jbosstools官网</a></p>
<p><strong>5.jboss搭配postgresql</strong><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;postgresql和pg—admin可在ubuntu软件中心下载安装，简单方便 &nbsp;&nbsp;&nbsp;将<a href="http://yunpan.cn/lk/sVBWjWxRHXSG7">postgresql</a> &nbsp;移动到 &nbsp;&nbsp;jboss-6.1.0.Final/server/default/lib目录下</p>
<p><strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;工程下的defult-ds.xml &nbsp;:</strong><br></p>
<p> &nbsp;&nbsp;&nbsp;&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br> &nbsp;&nbsp;&nbsp;&lt;!DOCTYPE datasources PUBLIC "-//JBoss//DTD JBOSS JCA Config 1.5//EN"<br> &nbsp;&nbsp;&nbsp;"http://www.jboss.org/j2ee/dtd/jboss-ds_1_5.dtd"&gt;<br> &nbsp;&nbsp;&nbsp;&lt;datasources&gt; &nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;local-tx-datasource&gt;<br><strong>&lt;jndi-name&gt;openeshopDatasource&lt;/jndi-name&gt;</strong>//////必须和persistence.xml的unit name相同<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;use-java-context&gt;<strong>true</strong>&lt;/use-java-context&gt;<br> &nbsp;&nbsp;&nbsp;&lt;connection-url&gt;jdbc:postgresql://<strong>localhost/openeshop</strong>&lt;/connection-url&gt;////本地数据库名称<br><strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;driver-class&gt;org.postgresql.Driver&lt;/driver-class&gt;</strong>/////驱动<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;user-name&gt;postgres&lt;/user-name&gt;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;password&gt;111111&lt;/password&gt;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/local-tx-datasource&gt; &nbsp;&nbsp;&nbsp;<br> &nbsp;&nbsp;&nbsp;&lt;/datasources&gt;</p>
<p><strong> &nbsp;&nbsp;工程下的persistence .xml</strong></p>
<p>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br>&lt;persistence version="2.0"<br> &nbsp;&nbsp;&nbsp;xmlns="http://java.sun.com/xml/ns/persistence" <br> &nbsp;&nbsp;&nbsp;xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"<br> &nbsp;&nbsp;&nbsp;xsi:schemaLocation="<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://java.sun.com/xml/ns/persistence<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"&gt;<br><strong><span class="edui-filter-decoration-none"> &nbsp;&nbsp;&nbsp;</span><span class="edui-filter-decoration-none">&lt;persistence-unit name="openeshopDatasource"&gt;</span></strong>//////////////////和上相同<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jta-data-source&gt;java:/<strong>openeshopDatasource</strong>&lt;/jta-data-source&gt;//////相同<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;properties&gt;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- Properties for Hibernate (default provider for JBoss AS) --&gt;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="hibernate.hbm2ddl.auto" value="create-drop" /&gt;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="hibernate.show_sql" value="true" /&gt;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="hibernate.format_sql" value="false" /&gt;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/properties&gt;<br> &nbsp;&nbsp;&nbsp;&lt;/persistence-unit&gt;<br>&lt;/persistence&gt;</p>
<p>postgresql的数据表名不能为user<br></p></div>         
            </div><!-- End Text Post -->
            
                        
            
                        
            
            
                        
            
            <div class="Footer">
                <div class="FooterLine"></div>
                <ol>
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-10-15/40040715911">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/3f9580ab/CF23C.png">
                            15th Oct 2012
                        </a><!-- End Date Posted Link -->
                    </li><!-- End Date Posted Wrapper -->
                    
                    
                    <li>
                        <a href="http://chenmingang.diandian.com/post/2012-10-15/40040715911#notes">
                            <img src="http://x.srcdd.com/farm1/c8b5b1/ec4666df/795FF.png">
                            1&nbsp;热度
                        </a><!-- End Notes Link -->
                    </li><!-- End Notes Wrapper -->
                    
                    
                </ol><!-- End Post Footer -->
            </div><!-- End Post Footer Wrapper -->
              
            <div class="FooterBoarder"></div>
            <!-- End Footer -->
            
            
            </div>

</body>
</html>

